INFO:     Will watch for changes in these directories: ['/Users/jihoon/sapiens_engine']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [22458] using WatchFiles
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [22461]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
Using OpenAI with API key: sk-pr...4svYA
INFO:     127.0.0.1:53733 - "GET /portraits/user_6807883f5214f3f1ccb72282.jpg HTTP/1.1" 200 OK
INFO:     127.0.0.1:53744 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:53744 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:53744 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:53744 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:api_server:Looking up philosopher with ID: nietzsche
INFO:api_server:Found philosopher nietzsche in YAML data
INFO:api_server:🔄 Returning and caching YAML data for philosopher: Friedrich Nietzsche
INFO:     127.0.0.1:53764 - "GET /api/npc/get?id=nietzsche HTTP/1.1" 200 OK
INFO:api_server:Looking up philosopher with ID: camus
INFO:api_server:Found philosopher camus in YAML data
INFO:api_server:🔄 Returning and caching YAML data for philosopher: Albert Camus
INFO:     127.0.0.1:53764 - "GET /api/npc/get?id=camus HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC nietzsche found in cache
INFO:     127.0.0.1:53765 - "GET /api/npc/get?id=nietzsche HTTP/1.1" 200 OK
INFO:     127.0.0.1:53770 - "GET /portraits/Nietzsche.png HTTP/1.1" 200 OK
INFO:     127.0.0.1:53769 - "GET /portraits/checkychan_1745627724.png HTTP/1.1" 200 OK
INFO:     127.0.0.1:53771 - "GET /portraits/Camus.png HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC camus found in cache
INFO:     127.0.0.1:53764 - "GET /api/npc/get?id=camus HTTP/1.1" 200 OK
INFO:api_server:Checking auto conversation status for room 11
INFO:api_server:Room 11 has no auto conversation record
INFO:     127.0.0.1:53775 - "GET /api/auto-conversation/status?room_id=11 HTTP/1.1" 200 OK
INFO:api_server:🔄 채팅 응답 생성 요청: 11
INFO:api_server:💬 user_message: 니체님 안녕하세요. 기술은 인간의 경험을 어떻게 형성하는지 구체적인 예시를 들어 설명해주실...
INFO:api_server:🔍 RAG 사용 여부(클라이언트 요청): False
INFO:api_server:📊 응답 NPC 선택 시작: '니체님 안녕하세요. 기술은 인간의 경험을 어떻게 형성하는지 구체적인 예시를 들어 설명해주실...'
INFO:api_server:📊 NPC 후보 목록: 638e7579-22b1-4599-adf4-1e96655db030, nietzsche, camus
DEBUG:api_server:📋 NPC 638e7579-22b1-4599-adf4-1e96655db030 정보를 캐시에서 찾지 못함, DB 조회
ERROR:api_server:NPC 638e7579-22b1-4599-adf4-1e96655db030 정보 가져오기 오류: asyncio.run() cannot be called from a running event loop
/Users/jihoon/sapiens_engine/api_server.py:1648: RuntimeWarning: coroutine 'get_npc_details' was never awaited
  logger.error(f"NPC {npc_id} 정보 가져오기 오류: {e}")
RuntimeWarning: Enable tracemalloc to get the object allocation traceback
DEBUG:api_server:📋 NPC nietzsche 정보를 캐시에서 찾지 못함, DB 조회
ERROR:api_server:NPC nietzsche 정보 가져오기 오류: asyncio.run() cannot be called from a running event loop
DEBUG:api_server:📋 NPC camus 정보를 캐시에서 찾지 못함, DB 조회
ERROR:api_server:NPC camus 정보 가져오기 오류: asyncio.run() cannot be called from a running event loop
INFO:api_server:🔍 1단계: 사용자 메시지에서 직접 언급된 NPC 찾기
INFO:api_server:🔍 2단계: LLM을 사용하여 적합한 NPC 선택
INFO:api_server:🧠 LLM을 사용한 응답 NPC 선택 시작: '니체님 안녕하세요. 기술은 인간의 경험을 어떻게 형성하는지 구체적인 예시를 들어 설명해주실...'
DEBUG:api_server:🧠 NPC 선택 LLM 호출 중...
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] LLM 응답 생성 시작
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] Provider: openai, Model: gpt-3.5-turbo
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] System prompt 길이: 695
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] User prompt 길이: 96
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] OpenAI 클라이언트 초기화 완료
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] API 요청 시작 - max_tokens: 500, temperature: 0.7
DEBUG:openai._base_client:Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '\n            당신은 대화에서 사용자 메시지에 가장 적합한 응답자를 선택하는 AI입니다.\n            \n            아래 사용자 메시지를 분석하고, 응답하기에 가장 적합한 참여자(NPC)를 선택하세요.\n            \n            가능한 NPC 목록:\n            ID: 638e7579-22b1-4599-adf4-1e96655db030 | 이름: 638e7579-22b1-4599-adf4-1e96655db030\nID: nietzsche | 이름: nietzsche\nID: camus | 이름: camus\n            \n            규칙:\n            1. 사용자가 특정 철학자의 견해나 이론을 언급하면, 그 철학자를 선택합니다.\n            2. 사용자의 질문이나 의견이 특정 철학자의 전문 분야와 관련있으면, 그 철학자를 선택합니다.\n            3. 모든 NPC가 동등하게 응답할 수 있는 내용이면, 가장 흥미로운 관점을 제공할 수 있는 NPC를 선택합니다.\n            4. 선택한 NPC의 ID만 정확히 반환하세요. (예: "e0c3872b-2103-4d04-8a2d-801bbd7f43cf")\n            \n            출력 형식:\n            NPC_ID: <npc_id>\n            '}, {'role': 'user', 'content': "다음 사용자 메시지에 응답하기에 가장 적합한 NPC를 선택해주세요: '니체님 안녕하세요. 기술은 인간의 경험을 어떻게 형성하는지 구체적인 예시를 들어 설명해주실수 있나요?'"}], 'model': 'gpt-3.5-turbo', 'max_tokens': 500, 'temperature': 0.7}}
DEBUG:openai._base_client:Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
DEBUG:httpcore.connection:connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
DEBUG:httpcore.connection:connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x31ee8aa50>
DEBUG:httpcore.connection:start_tls.started ssl_context=<ssl.SSLContext object at 0x31e833890> server_hostname='api.openai.com' timeout=5.0
DEBUG:httpcore.connection:start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x31e984410>
DEBUG:httpcore.http11:send_request_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_headers.complete
DEBUG:httpcore.http11:send_request_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_body.complete
DEBUG:httpcore.http11:receive_response_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 20 May 2025 22:44:35 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-wwfxccvemx0vfanxb9ndlyia'), (b'openai-processing-ms', b'254'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'256'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'4000000'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'3999665'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'5ms'), (b'x-request-id', b'req_8223feef2a584582aba50ef2dd43e9d6'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=FqaWgb4SSK7TqqEPk8vSZEDD0F8JZ8Yi2WYsGiBp2Ss-1747781075-1.0.1.1-X7sQ2RsyahqWdRxslLz4tHNZQ1mYqBDRKIfdAE2JtGsd57JGNmf43COAwlryT._ZO4LnuVaCntX.NPp7Rv3bnIIHOLLWxQ3H.U_fWRPleAs; path=/; expires=Tue, 20-May-25 23:14:35 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=8rzFIGo1.mSS45ykFCyepfuEhh5L0fJmDsWBjJXvwdE-1747781075941-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'942f5c07abbfe516-TXL'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
DEBUG:httpcore.http11:receive_response_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_body.complete
DEBUG:httpcore.http11:response_closed.started
DEBUG:httpcore.http11:response_closed.complete
DEBUG:openai._base_client:HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Tue, 20 May 2025 22:44:35 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'user-wwfxccvemx0vfanxb9ndlyia'), ('openai-processing-ms', '254'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '256'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '4000000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '3999665'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '5ms'), ('x-request-id', 'req_8223feef2a584582aba50ef2dd43e9d6'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=FqaWgb4SSK7TqqEPk8vSZEDD0F8JZ8Yi2WYsGiBp2Ss-1747781075-1.0.1.1-X7sQ2RsyahqWdRxslLz4tHNZQ1mYqBDRKIfdAE2JtGsd57JGNmf43COAwlryT._ZO4LnuVaCntX.NPp7Rv3bnIIHOLLWxQ3H.U_fWRPleAs; path=/; expires=Tue, 20-May-25 23:14:35 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=8rzFIGo1.mSS45ykFCyepfuEhh5L0fJmDsWBjJXvwdE-1747781075941-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '942f5c07abbfe516-TXL'), ('content-encoding', 'br'), ('alt-svc', 'h3=":443"; ma=86400')])
DEBUG:openai._base_client:request_id: req_8223feef2a584582aba50ef2dd43e9d6
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] API 응답 받음
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 응답 길이: 17
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 응답 내용: NPC_ID: nietzsche
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 감지된 언어: en
DEBUG:api_server:🧠 LLM 원본 응답: NPC_ID: nietzsche
INFO:api_server:✅ LLM이 선택한 NPC ID: nietzsche
INFO:api_server:✅ LLM이 선택한 NPC: nietzsche (nietzsche)
INFO:api_server:🎯 응답할 철학자: nietzsche
INFO:api_server:NPC 선택 이벤트 발송: nietzsche
INFO:api_server:💬 user_message: 니체님 안녕하세요. 기술은 인간의 경험을 어떻게 형성하는지 구체적인 예시를 들어 설명해주실...
INFO:api_server:💬 topic: How does technology shape human experience?...
INFO:api_server:💬 context: None...
INFO:api_server:💬 dialogue_context: User: 니체님 안녕하세요. 기술은 인간의 경험을 어떻게 형성하는지 구체적인 예시를 들어...
DEBUG:api_server:🔄 철학적 응답 생성 시작...
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] LLM 응답 생성 시작
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] Provider: openai, Model: gpt-4o
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] System prompt 길이: 2472
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] User prompt 길이: 1632
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] OpenAI 클라이언트 초기화 완료
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] API 요청 시작 - max_tokens: 500, temperature: 0.7
DEBUG:httpcore.connection:close.started
DEBUG:httpcore.connection:close.complete
DEBUG:openai._base_client:Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'You are an AI simulating the philosophical thinking of Nietzsche was a 19th century German philosopher known for his critique of morality, religion, and contemporary culture. His style is bold, provocative, and poetic, using aphorisms and metaphors to challenge conventional wisdom. Key concepts include in an interactive dialogue.\nYour goal is to respond to philosophical topics exactly as this philosopher would, while engaging naturally with other participants.\nMaintain the philosophical terminology, worldview, and most importantly the UNIQUE SPEAKING STYLE consistent with this philosopher.\n\nThis is a philosophical simulation where different perspectives interact with each other.\nDon\'t break character. Don\'t refer to yourself as an AI. Don\'t explain your thinking process.\nRespond directly as if you truly are this philosopher.\n\nPHILOSOPHER\'S SPECIFIC STYLE AND MANNER OF SPEAKING:\n\n\nIMPORTANT GUIDELINES FOR NATURAL INTERACTIVE DIALOGUE:\n1. Be concise and direct - keep responses to 2-3 sentences maximum\n2. DIRECTLY RESPOND TO THE PREVIOUS SPEAKER - reference their specific points, ideas, or questions\n3. Be conversational, as if you\'re having a real-time discussion with the previous speaker\n4. If there are multiple speakers, address the most recent message or the most relevant point\n5. NEVER start with "Indeed" or simple agreement - use varied ways to engage\n6. If appropriate, ask follow-up questions or challenge assumptions made by others\n7. RESPOND IN THE SAME LANGUAGE AS THE TOPIC - if the topic is in Korean, respond in Korean; if in English, respond in English\n\nVERY IMPORTANT - ABOUT USING NAMES:\n1. DO NOT address other speakers by name in most of your responses\n2. AVOID starting your responses with another person\'s name\n3. Only mention names when absolutely necessary for clarity (like when distinguishing between multiple viewpoints)\n4. Focus on responding to ideas rather than to people\n5. Use phrases like "That perspective..." or "This view..." instead of "Person\'s name, your perspective..."\n6. When you do need to use names, use proper names (never IDs or codes)\n\nThe response should feel like a natural conversation that TRULY CAPTURES THE DISTINCT VOICE AND PHILOSOPHICAL APPROACH of Nietzsche was a 19th century German philosopher known for his critique of morality, religion, and contemporary culture. His style is bold, provocative, and poetic, using aphorisms and metaphors to challenge conventional wisdom. Key concepts include.\n'}, {'role': 'user', 'content': '# Your Philosophical Persona\nNietzsche was a 19th century German philosopher known for his critique of morality, religion, and contemporary culture. His style is bold, provocative, and poetic, using aphorisms and metaphors to challenge conventional wisdom. Key concepts include: Will to power, Eternal recurrence, Übermensch, Master-slave morality, Perspectivism.\n\n# Your Unique Speaking Style\n\n\n# Topic of Discussion\nHow does technology shape human experience?\n\n\n\n\n\n# Additional Context\n\n\n# Previous Dialogue (Most Recent First)\nUser: 니체님 안녕하세요. 기술은 인간의 경험을 어떻게 형성하는지 구체적인 예시를 들어 설명해주실수 있나요?\n\nRESPOND DIRECTLY TO THE MOST RECENT MESSAGE IN THE DIALOGUE, as Nietzsche was a 19th century German philosopher known for his critique of morality, religion, and contemporary culture. His style is bold, provocative, and poetic, using aphorisms and metaphors to challenge conventional wisdom. Key concepts include would.\nYour response should feel like a natural continuation of the conversation while TRULY EMBODYING YOUR UNIQUE PHILOSOPHICAL VOICE.\n\nKEEP YOUR RESPONSE BRIEF (2-3 SENTENCES) as if speaking in a real-time dialogue.\n\nIMPORTANT GUIDELINES: \n1. DO NOT ADDRESS THE PREVIOUS SPEAKER BY NAME in your response\n2. DO NOT START YOUR RESPONSE WITH SOMEONE\'S NAME\n3. Directly address or engage with what was just said without using names\n4. Express your philosophical perspective in YOUR UNIQUE STYLE\n5. NEVER start with "Indeed" or generic acknowledgments\n6. RESPOND IN THE SAME LANGUAGE AS THE TOPIC AND PREVIOUS MESSAGES\n\nCreate a natural flowing dialogue that genuinely captures how YOU as this specific philosopher would speak.\n'}], 'model': 'gpt-4o', 'max_tokens': 500, 'temperature': 0.7}}
DEBUG:openai._base_client:Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
DEBUG:httpcore.connection:connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
DEBUG:httpcore.connection:connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x31eea11d0>
DEBUG:httpcore.connection:start_tls.started ssl_context=<ssl.SSLContext object at 0x31e8339b0> server_hostname='api.openai.com' timeout=5.0
DEBUG:httpcore.connection:start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x31ee7cf90>
DEBUG:httpcore.http11:send_request_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_headers.complete
DEBUG:httpcore.http11:send_request_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_body.complete
DEBUG:httpcore.http11:receive_response_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 20 May 2025 22:44:38 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-wwfxccvemx0vfanxb9ndlyia'), (b'openai-processing-ms', b'2352'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'2354'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'800000'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'798949'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'78ms'), (b'x-request-id', b'req_905ee3b867bb787cc18da829a0f8acba'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=L5AmW7WPeo9ITFf8HLX4.dDN_uFeit22nDCwj944MqE-1747781078-1.0.1.1-batPCsPGYwgX1z9YPl8GqwlcRSZrXhFKeY10dQP4nKjR6khfBm0QPxBOn2LEIQDD5njrK66Z_hB.RwSB2rPjGuqtSkfx9wJUMXFefpJ58Nk; path=/; expires=Tue, 20-May-25 23:14:38 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=LSwUXUxli4X3Uq4J8Y9OyPQp19sPsZaJ.7j00rwPs3U-1747781078638-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'942f5c0dca06e532-TXL'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
DEBUG:httpcore.http11:receive_response_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_body.complete
DEBUG:httpcore.http11:response_closed.started
DEBUG:httpcore.http11:response_closed.complete
DEBUG:openai._base_client:HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Tue, 20 May 2025 22:44:38 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'user-wwfxccvemx0vfanxb9ndlyia'), ('openai-processing-ms', '2352'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '2354'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '800000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '798949'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '78ms'), ('x-request-id', 'req_905ee3b867bb787cc18da829a0f8acba'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=L5AmW7WPeo9ITFf8HLX4.dDN_uFeit22nDCwj944MqE-1747781078-1.0.1.1-batPCsPGYwgX1z9YPl8GqwlcRSZrXhFKeY10dQP4nKjR6khfBm0QPxBOn2LEIQDD5njrK66Z_hB.RwSB2rPjGuqtSkfx9wJUMXFefpJ58Nk; path=/; expires=Tue, 20-May-25 23:14:38 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=LSwUXUxli4X3Uq4J8Y9OyPQp19sPsZaJ.7j00rwPs3U-1747781078638-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '942f5c0dca06e532-TXL'), ('content-encoding', 'br'), ('alt-svc', 'h3=":443"; ma=86400')])
DEBUG:openai._base_client:request_id: req_905ee3b867bb787cc18da829a0f8acba
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] API 응답 받음
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 응답 길이: 167
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 응답 내용: 기술은 인간의 경험을 새로운 차원으로 확장시키는 힘을 가집니다. 그러나 동시에, 그것은 우리를 기계의 노예로 만들 위험도 있지요. 기술을 통해 우리는 우리의 한계를 초월할 수 있지...
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 감지된 언어: ko
INFO:api_server:✅ 응답 생성 완료: 기술은 인간의 경험을 새로운 차원으로 확장시키는 힘을 가집니다. 그러나 동시에, 그것은 우...
WARNING:api_server:⚠️ 인용 정보가 없습니다.
DEBUG:api_server:📤 최종 응답 데이터 구조: ['response', 'philosopher', 'metadata', 'citations']
DEBUG:api_server:📤 응답 데이터 citations 필드 타입: <class 'list'>
DEBUG:api_server:📤 응답 데이터 citations 항목 수: 0
INFO:     127.0.0.1:53777 - "POST /api/chat/generate HTTP/1.1" 200 OK
INFO:api_server:Checking auto conversation status for room 11
INFO:api_server:Room 11 has no auto conversation record
INFO:     127.0.0.1:53783 - "GET /api/auto-conversation/status?room_id=11 HTTP/1.1" 200 OK
INFO:api_server:🔄 채팅 응답 생성 요청: 11
INFO:api_server:💬 user_message: 구체적인 예시를 들어달라고 했는데 너무 두루뭉술한 소리만하시네요...
INFO:api_server:🔍 RAG 사용 여부(클라이언트 요청): False
INFO:api_server:📊 응답 NPC 선택 시작: '구체적인 예시를 들어달라고 했는데 너무 두루뭉술한 소리만하시네요...'
INFO:api_server:📊 NPC 후보 목록: 638e7579-22b1-4599-adf4-1e96655db030, nietzsche, camus
DEBUG:api_server:📋 NPC 638e7579-22b1-4599-adf4-1e96655db030 정보를 캐시에서 찾지 못함, DB 조회
ERROR:api_server:NPC 638e7579-22b1-4599-adf4-1e96655db030 정보 가져오기 오류: asyncio.run() cannot be called from a running event loop
/Users/jihoon/sapiens_engine/api_server.py:1648: RuntimeWarning: coroutine 'get_npc_details' was never awaited
  logger.error(f"NPC {npc_id} 정보 가져오기 오류: {e}")
RuntimeWarning: Enable tracemalloc to get the object allocation traceback
DEBUG:api_server:📋 NPC nietzsche 정보를 캐시에서 찾지 못함, DB 조회
ERROR:api_server:NPC nietzsche 정보 가져오기 오류: asyncio.run() cannot be called from a running event loop
DEBUG:api_server:📋 NPC camus 정보를 캐시에서 찾지 못함, DB 조회
ERROR:api_server:NPC camus 정보 가져오기 오류: asyncio.run() cannot be called from a running event loop
INFO:api_server:🔍 1단계: 사용자 메시지에서 직접 언급된 NPC 찾기
INFO:api_server:🔍 2단계: LLM을 사용하여 적합한 NPC 선택
INFO:api_server:🧠 LLM을 사용한 응답 NPC 선택 시작: '구체적인 예시를 들어달라고 했는데 너무 두루뭉술한 소리만하시네요...'
DEBUG:api_server:🧠 NPC 선택 LLM 호출 중...
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] LLM 응답 생성 시작
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] Provider: openai, Model: gpt-3.5-turbo
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] System prompt 길이: 695
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] User prompt 길이: 75
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] OpenAI 클라이언트 초기화 완료
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] API 요청 시작 - max_tokens: 500, temperature: 0.7
DEBUG:openai._base_client:Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '\n            당신은 대화에서 사용자 메시지에 가장 적합한 응답자를 선택하는 AI입니다.\n            \n            아래 사용자 메시지를 분석하고, 응답하기에 가장 적합한 참여자(NPC)를 선택하세요.\n            \n            가능한 NPC 목록:\n            ID: 638e7579-22b1-4599-adf4-1e96655db030 | 이름: 638e7579-22b1-4599-adf4-1e96655db030\nID: nietzsche | 이름: nietzsche\nID: camus | 이름: camus\n            \n            규칙:\n            1. 사용자가 특정 철학자의 견해나 이론을 언급하면, 그 철학자를 선택합니다.\n            2. 사용자의 질문이나 의견이 특정 철학자의 전문 분야와 관련있으면, 그 철학자를 선택합니다.\n            3. 모든 NPC가 동등하게 응답할 수 있는 내용이면, 가장 흥미로운 관점을 제공할 수 있는 NPC를 선택합니다.\n            4. 선택한 NPC의 ID만 정확히 반환하세요. (예: "e0c3872b-2103-4d04-8a2d-801bbd7f43cf")\n            \n            출력 형식:\n            NPC_ID: <npc_id>\n            '}, {'role': 'user', 'content': "다음 사용자 메시지에 응답하기에 가장 적합한 NPC를 선택해주세요: '구체적인 예시를 들어달라고 했는데 너무 두루뭉술한 소리만하시네요'"}], 'model': 'gpt-3.5-turbo', 'max_tokens': 500, 'temperature': 0.7}}
DEBUG:openai._base_client:Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
DEBUG:httpcore.connection:connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
DEBUG:httpcore.connection:connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x31eeca1d0>
DEBUG:httpcore.connection:start_tls.started ssl_context=<ssl.SSLContext object at 0x31e833b60> server_hostname='api.openai.com' timeout=5.0
DEBUG:httpcore.connection:start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x31eeca290>
DEBUG:httpcore.http11:send_request_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_headers.complete
DEBUG:httpcore.http11:send_request_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_body.complete
DEBUG:httpcore.http11:receive_response_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 20 May 2025 22:45:02 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-wwfxccvemx0vfanxb9ndlyia'), (b'openai-processing-ms', b'639'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'642'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'4000000'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'3999677'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'4ms'), (b'x-request-id', b'req_96832c74257701c9a06b0b49c2db96c1'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=pwINz1taVe82oj.gTE61Z.IfhPhf14pSyMYrWyYD_P4-1747781102-1.0.1.1-yHKXTTyDh38xOpKzAuTH9kaFzyMHDs48pMPYVGQnTUUwl_Jpm1Uo6TJPk6KPIltjsfUXRcqJXjvxXvHYL5RjXzH.xUO32AkUO50q89iyECY; path=/; expires=Tue, 20-May-25 23:15:02 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=ET56FxpMqzoFQ.PkNVcNTElG_vSWPEVyxOuTiDsZREE-1747781102248-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'942f5cac081ae516-TXL'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
DEBUG:httpcore.http11:receive_response_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_body.complete
DEBUG:httpcore.http11:response_closed.started
DEBUG:httpcore.http11:response_closed.complete
DEBUG:openai._base_client:HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Tue, 20 May 2025 22:45:02 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'user-wwfxccvemx0vfanxb9ndlyia'), ('openai-processing-ms', '639'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '642'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '4000000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '3999677'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '4ms'), ('x-request-id', 'req_96832c74257701c9a06b0b49c2db96c1'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=pwINz1taVe82oj.gTE61Z.IfhPhf14pSyMYrWyYD_P4-1747781102-1.0.1.1-yHKXTTyDh38xOpKzAuTH9kaFzyMHDs48pMPYVGQnTUUwl_Jpm1Uo6TJPk6KPIltjsfUXRcqJXjvxXvHYL5RjXzH.xUO32AkUO50q89iyECY; path=/; expires=Tue, 20-May-25 23:15:02 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=ET56FxpMqzoFQ.PkNVcNTElG_vSWPEVyxOuTiDsZREE-1747781102248-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '942f5cac081ae516-TXL'), ('content-encoding', 'br'), ('alt-svc', 'h3=":443"; ma=86400')])
DEBUG:openai._base_client:request_id: req_96832c74257701c9a06b0b49c2db96c1
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] API 응답 받음
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 응답 길이: 13
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 응답 내용: NPC_ID: camus
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 감지된 언어: en
DEBUG:api_server:🧠 LLM 원본 응답: NPC_ID: camus
INFO:api_server:✅ LLM이 선택한 NPC ID: camus
INFO:api_server:✅ LLM이 선택한 NPC: camus (camus)
INFO:api_server:🎯 응답할 철학자: camus
INFO:api_server:NPC 선택 이벤트 발송: camus
INFO:api_server:💬 user_message: 구체적인 예시를 들어달라고 했는데 너무 두루뭉술한 소리만하시네요...
INFO:api_server:💬 topic: How does technology shape human experience?...
INFO:api_server:💬 context: None...
INFO:api_server:💬 dialogue_context: User: 구체적인 예시를 들어달라고 했는데 너무 두루뭉술한 소리만하시네요...
DEBUG:api_server:🔄 철학적 응답 생성 시작...
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] LLM 응답 생성 시작
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] Provider: openai, Model: gpt-4o
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] System prompt 길이: 2462
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] User prompt 길이: 1587
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] OpenAI 클라이언트 초기화 완료
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] API 요청 시작 - max_tokens: 500, temperature: 0.7
DEBUG:openai._base_client:Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'You are an AI simulating the philosophical thinking of Camus was a 20th century French philosopher associated with absurdism who explored how to find meaning in an indifferent universe. His style is philosophical yet accessible, using literary references and everyday examples. Key concepts include in an interactive dialogue.\nYour goal is to respond to philosophical topics exactly as this philosopher would, while engaging naturally with other participants.\nMaintain the philosophical terminology, worldview, and most importantly the UNIQUE SPEAKING STYLE consistent with this philosopher.\n\nThis is a philosophical simulation where different perspectives interact with each other.\nDon\'t break character. Don\'t refer to yourself as an AI. Don\'t explain your thinking process.\nRespond directly as if you truly are this philosopher.\n\nPHILOSOPHER\'S SPECIFIC STYLE AND MANNER OF SPEAKING:\n\n\nIMPORTANT GUIDELINES FOR NATURAL INTERACTIVE DIALOGUE:\n1. Be concise and direct - keep responses to 2-3 sentences maximum\n2. DIRECTLY RESPOND TO THE PREVIOUS SPEAKER - reference their specific points, ideas, or questions\n3. Be conversational, as if you\'re having a real-time discussion with the previous speaker\n4. If there are multiple speakers, address the most recent message or the most relevant point\n5. NEVER start with "Indeed" or simple agreement - use varied ways to engage\n6. If appropriate, ask follow-up questions or challenge assumptions made by others\n7. RESPOND IN THE SAME LANGUAGE AS THE TOPIC - if the topic is in Korean, respond in Korean; if in English, respond in English\n\nVERY IMPORTANT - ABOUT USING NAMES:\n1. DO NOT address other speakers by name in most of your responses\n2. AVOID starting your responses with another person\'s name\n3. Only mention names when absolutely necessary for clarity (like when distinguishing between multiple viewpoints)\n4. Focus on responding to ideas rather than to people\n5. Use phrases like "That perspective..." or "This view..." instead of "Person\'s name, your perspective..."\n6. When you do need to use names, use proper names (never IDs or codes)\n\nThe response should feel like a natural conversation that TRULY CAPTURES THE DISTINCT VOICE AND PHILOSOPHICAL APPROACH of Camus was a 20th century French philosopher associated with absurdism who explored how to find meaning in an indifferent universe. His style is philosophical yet accessible, using literary references and everyday examples. Key concepts include.\n'}, {'role': 'user', 'content': '# Your Philosophical Persona\nCamus was a 20th century French philosopher associated with absurdism who explored how to find meaning in an indifferent universe. His style is philosophical yet accessible, using literary references and everyday examples. Key concepts include: The Absurd, Revolt, Sisyphus, Philosophical suicide, Authentic living.\n\n# Your Unique Speaking Style\n\n\n# Topic of Discussion\nHow does technology shape human experience?\n\n\n\n\n\n# Additional Context\n\n\n# Previous Dialogue (Most Recent First)\nUser: 구체적인 예시를 들어달라고 했는데 너무 두루뭉술한 소리만하시네요\n\nRESPOND DIRECTLY TO THE MOST RECENT MESSAGE IN THE DIALOGUE, as Camus was a 20th century French philosopher associated with absurdism who explored how to find meaning in an indifferent universe. His style is philosophical yet accessible, using literary references and everyday examples. Key concepts include would.\nYour response should feel like a natural continuation of the conversation while TRULY EMBODYING YOUR UNIQUE PHILOSOPHICAL VOICE.\n\nKEEP YOUR RESPONSE BRIEF (2-3 SENTENCES) as if speaking in a real-time dialogue.\n\nIMPORTANT GUIDELINES: \n1. DO NOT ADDRESS THE PREVIOUS SPEAKER BY NAME in your response\n2. DO NOT START YOUR RESPONSE WITH SOMEONE\'S NAME\n3. Directly address or engage with what was just said without using names\n4. Express your philosophical perspective in YOUR UNIQUE STYLE\n5. NEVER start with "Indeed" or generic acknowledgments\n6. RESPOND IN THE SAME LANGUAGE AS THE TOPIC AND PREVIOUS MESSAGES\n\nCreate a natural flowing dialogue that genuinely captures how YOU as this specific philosopher would speak.\n'}], 'model': 'gpt-4o', 'max_tokens': 500, 'temperature': 0.7}}
DEBUG:openai._base_client:Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
DEBUG:httpcore.connection:connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
DEBUG:httpcore.connection:connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x31eed5990>
DEBUG:httpcore.connection:start_tls.started ssl_context=<ssl.SSLContext object at 0x31e833da0> server_hostname='api.openai.com' timeout=5.0
DEBUG:httpcore.connection:start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x31eed5a50>
DEBUG:httpcore.http11:send_request_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_headers.complete
DEBUG:httpcore.http11:send_request_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_body.complete
DEBUG:httpcore.http11:receive_response_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 20 May 2025 22:45:25 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-wwfxccvemx0vfanxb9ndlyia'), (b'openai-processing-ms', b'22722'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'22724'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'800000'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'798970'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'77ms'), (b'x-request-id', b'req_aa1e34c660b323098bf20e670ba44ba9'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=28PF5yIYW8TfOHg4HkVL1ZNfCJ8T_z.0T8lZmsTAxqc-1747781125-1.0.1.1-HeVjyN9ohANpxC0JqPs46IK.XLHMJZ.bs981g2OFRXEu8_nGfZL1X6UvWkkl5kBaJ79NqlAQstMwF4kVJEykKXxiuXRLp5_l8nv9ME8n9Qc; path=/; expires=Tue, 20-May-25 23:15:25 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=tt13dso9dPtGiC.PVd7_jVzm0UqrMBQr3rzlZsIYbKY-1747781125277-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'942f5cb1fe51e51f-TXL'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
DEBUG:httpcore.http11:receive_response_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_body.complete
DEBUG:httpcore.http11:response_closed.started
DEBUG:httpcore.http11:response_closed.complete
DEBUG:openai._base_client:HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Tue, 20 May 2025 22:45:25 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'user-wwfxccvemx0vfanxb9ndlyia'), ('openai-processing-ms', '22722'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '22724'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '800000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '798970'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '77ms'), ('x-request-id', 'req_aa1e34c660b323098bf20e670ba44ba9'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=28PF5yIYW8TfOHg4HkVL1ZNfCJ8T_z.0T8lZmsTAxqc-1747781125-1.0.1.1-HeVjyN9ohANpxC0JqPs46IK.XLHMJZ.bs981g2OFRXEu8_nGfZL1X6UvWkkl5kBaJ79NqlAQstMwF4kVJEykKXxiuXRLp5_l8nv9ME8n9Qc; path=/; expires=Tue, 20-May-25 23:15:25 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=tt13dso9dPtGiC.PVd7_jVzm0UqrMBQr3rzlZsIYbKY-1747781125277-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '942f5cb1fe51e51f-TXL'), ('content-encoding', 'br'), ('alt-svc', 'h3=":443"; ma=86400')])
DEBUG:openai._base_client:request_id: req_aa1e34c660b323098bf20e670ba44ba9
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] API 응답 받음
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 응답 길이: 155
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 응답 내용: 기술이 인간 경험을 어떻게 형성하는지를 생각해 보십시오. 스마트폰의 화면에 몰입하면서 우리는 실재하는 세계와의 연결을 잃고 있지는 않습니까? 그러나 이는 동시에 우리에게 새로운 형...
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 감지된 언어: ko
INFO:api_server:✅ 응답 생성 완료: 기술이 인간 경험을 어떻게 형성하는지를 생각해 보십시오. 스마트폰의 화면에 몰입하면서 우리...
WARNING:api_server:⚠️ 인용 정보가 없습니다.
DEBUG:api_server:📤 최종 응답 데이터 구조: ['response', 'philosopher', 'metadata', 'citations']
DEBUG:api_server:📤 응답 데이터 citations 필드 타입: <class 'list'>
DEBUG:api_server:📤 응답 데이터 citations 항목 수: 0
INFO:     127.0.0.1:53785 - "POST /api/chat/generate HTTP/1.1" 200 OK
INFO:     127.0.0.1:53798 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:53798 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:53798 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:53798 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:api_server:Looking up philosopher with ID: kant
INFO:api_server:Found philosopher kant in YAML data
INFO:api_server:🔄 Returning and caching YAML data for philosopher: Immanuel Kant
INFO:     127.0.0.1:54201 - "GET /api/npc/get?id=kant HTTP/1.1" 200 OK
INFO:api_server:Looking up philosopher with ID: marx
INFO:api_server:Found philosopher marx in YAML data
INFO:api_server:🔄 Returning and caching YAML data for philosopher: Karl Marx
INFO:     127.0.0.1:54201 - "GET /api/npc/get?id=marx HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC kant found in cache
INFO:     127.0.0.1:54202 - "GET /api/npc/get?id=kant HTTP/1.1" 200 OK
INFO:api_server:Looking up philosopher with ID: socrates
INFO:api_server:Found philosopher socrates in YAML data
INFO:api_server:🔄 Returning and caching YAML data for philosopher: Socrates
INFO:     127.0.0.1:54201 - "GET /api/npc/get?id=socrates HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC marx found in cache
INFO:     127.0.0.1:54201 - "GET /api/npc/get?id=marx HTTP/1.1" 200 OK
INFO:api_server:Looking up philosopher with ID: camus
INFO:api_server:Found philosopher camus in YAML data
INFO:api_server:🔄 Returning and caching YAML data for philosopher: Albert Camus
INFO:     127.0.0.1:54201 - "GET /api/npc/get?id=camus HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC socrates found in cache
INFO:     127.0.0.1:54202 - "GET /api/npc/get?id=socrates HTTP/1.1" 200 OK
INFO:     127.0.0.1:54208 - "GET /portraits/Socrates.png HTTP/1.1" 200 OK
INFO:     127.0.0.1:54207 - "GET /portraits/Marx.png HTTP/1.1" 200 OK
INFO:     127.0.0.1:54206 - "GET /portraits/Kant.png HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC camus found in cache
INFO:     127.0.0.1:54201 - "GET /api/npc/get?id=camus HTTP/1.1" 200 OK
INFO:api_server:Checking auto conversation status for room 9
INFO:api_server:Room 9 has no auto conversation record
INFO:     127.0.0.1:54210 - "GET /api/auto-conversation/status?room_id=9 HTTP/1.1" 200 OK
INFO:api_server:🔄 채팅 응답 생성 요청: 9
INFO:api_server:💬 user_message: 마르크스 안녕...
INFO:api_server:🔍 RAG 사용 여부(클라이언트 요청): False
INFO:api_server:📊 응답 NPC 선택 시작: '마르크스 안녕...'
INFO:api_server:📊 NPC 후보 목록: kant, marx, socrates, camus
DEBUG:api_server:📋 NPC kant 정보를 캐시에서 찾지 못함, DB 조회
ERROR:api_server:NPC kant 정보 가져오기 오류: asyncio.run() cannot be called from a running event loop
DEBUG:api_server:📋 NPC marx 정보를 캐시에서 찾지 못함, DB 조회
ERROR:api_server:NPC marx 정보 가져오기 오류: asyncio.run() cannot be called from a running event loop
DEBUG:api_server:📋 NPC socrates 정보를 캐시에서 찾지 못함, DB 조회
ERROR:api_server:NPC socrates 정보 가져오기 오류: asyncio.run() cannot be called from a running event loop
DEBUG:api_server:📋 NPC camus 정보를 캐시에서 찾지 못함, DB 조회
ERROR:api_server:NPC camus 정보 가져오기 오류: asyncio.run() cannot be called from a running event loop
INFO:api_server:🔍 1단계: 사용자 메시지에서 직접 언급된 NPC 찾기
INFO:api_server:🔍 2단계: LLM을 사용하여 적합한 NPC 선택
INFO:api_server:🧠 LLM을 사용한 응답 NPC 선택 시작: '마르크스 안녕...'
DEBUG:api_server:🧠 NPC 선택 LLM 호출 중...
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] LLM 응답 생성 시작
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] Provider: openai, Model: gpt-3.5-turbo
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] System prompt 길이: 649
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] User prompt 길이: 47
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] OpenAI 클라이언트 초기화 완료
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] API 요청 시작 - max_tokens: 500, temperature: 0.7
DEBUG:openai._base_client:Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '\n            당신은 대화에서 사용자 메시지에 가장 적합한 응답자를 선택하는 AI입니다.\n            \n            아래 사용자 메시지를 분석하고, 응답하기에 가장 적합한 참여자(NPC)를 선택하세요.\n            \n            가능한 NPC 목록:\n            ID: kant | 이름: kant\nID: marx | 이름: marx\nID: socrates | 이름: socrates\nID: camus | 이름: camus\n            \n            규칙:\n            1. 사용자가 특정 철학자의 견해나 이론을 언급하면, 그 철학자를 선택합니다.\n            2. 사용자의 질문이나 의견이 특정 철학자의 전문 분야와 관련있으면, 그 철학자를 선택합니다.\n            3. 모든 NPC가 동등하게 응답할 수 있는 내용이면, 가장 흥미로운 관점을 제공할 수 있는 NPC를 선택합니다.\n            4. 선택한 NPC의 ID만 정확히 반환하세요. (예: "e0c3872b-2103-4d04-8a2d-801bbd7f43cf")\n            \n            출력 형식:\n            NPC_ID: <npc_id>\n            '}, {'role': 'user', 'content': "다음 사용자 메시지에 응답하기에 가장 적합한 NPC를 선택해주세요: '마르크스 안녕'"}], 'model': 'gpt-3.5-turbo', 'max_tokens': 500, 'temperature': 0.7}}
DEBUG:openai._base_client:Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
DEBUG:httpcore.connection:connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
DEBUG:httpcore.connection:connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x31eef0410>
DEBUG:httpcore.connection:start_tls.started ssl_context=<ssl.SSLContext object at 0x31e833c80> server_hostname='api.openai.com' timeout=5.0
DEBUG:httpcore.connection:start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x31eef04d0>
DEBUG:httpcore.http11:send_request_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_headers.complete
DEBUG:httpcore.http11:send_request_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_body.complete
DEBUG:httpcore.http11:receive_response_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 20 May 2025 23:10:57 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-wwfxccvemx0vfanxb9ndlyia'), (b'openai-processing-ms', b'559'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'563'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'4000000'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'3999706'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'4ms'), (b'x-request-id', b'req_9903297be2b99f55bdfaf8759fe5cf86'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=3T2zOhheDlMHyvIpBnSaeMe14Ji.dAEpFOB9po8n4Mg-1747782657-1.0.1.1-eZ3XMoqnhLH1Hw4tIlsaBG9A6cJsGea5xxEJ0V.7R_Wt7oUnoU0S6TrnoRYnTnctq_DhKFekkgMzmZ8bltLS6WQrmA7_Slxu.LJuN322EjQ; path=/; expires=Tue, 20-May-25 23:40:57 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=hEHmKFYttehQC5.C6mCy6dJWlT60cK_jvT.PnhJ1rCc-1747782657010-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'942f829fee404480-TXL'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
DEBUG:httpcore.http11:receive_response_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_body.complete
DEBUG:httpcore.http11:response_closed.started
DEBUG:httpcore.http11:response_closed.complete
DEBUG:openai._base_client:HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Tue, 20 May 2025 23:10:57 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'user-wwfxccvemx0vfanxb9ndlyia'), ('openai-processing-ms', '559'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '563'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '4000000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '3999706'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '4ms'), ('x-request-id', 'req_9903297be2b99f55bdfaf8759fe5cf86'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=3T2zOhheDlMHyvIpBnSaeMe14Ji.dAEpFOB9po8n4Mg-1747782657-1.0.1.1-eZ3XMoqnhLH1Hw4tIlsaBG9A6cJsGea5xxEJ0V.7R_Wt7oUnoU0S6TrnoRYnTnctq_DhKFekkgMzmZ8bltLS6WQrmA7_Slxu.LJuN322EjQ; path=/; expires=Tue, 20-May-25 23:40:57 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=hEHmKFYttehQC5.C6mCy6dJWlT60cK_jvT.PnhJ1rCc-1747782657010-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '942f829fee404480-TXL'), ('content-encoding', 'br'), ('alt-svc', 'h3=":443"; ma=86400')])
DEBUG:openai._base_client:request_id: req_9903297be2b99f55bdfaf8759fe5cf86
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] API 응답 받음
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 응답 길이: 12
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 응답 내용: NPC_ID: marx
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 감지된 언어: en
DEBUG:api_server:🧠 LLM 원본 응답: NPC_ID: marx
INFO:api_server:✅ LLM이 선택한 NPC ID: marx
INFO:api_server:✅ LLM이 선택한 NPC: marx (marx)
INFO:api_server:🎯 응답할 철학자: marx
INFO:api_server:NPC 선택 이벤트 발송: marx
INFO:api_server:💬 user_message: 마르크스 안녕...
INFO:api_server:💬 topic: 차별금지법. 약자를 보호하기 위한 법인가 혹은 발언의 자유를 막고 누군가의 권력을 강화하기...
INFO:api_server:💬 context: None...
INFO:api_server:💬 dialogue_context: User: 마르크스 안녕...
DEBUG:api_server:🔄 철학적 응답 생성 시작...
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] LLM 응답 생성 시작
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] Provider: openai, Model: gpt-4o
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] System prompt 길이: 2480
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] User prompt 길이: 1620
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] OpenAI 클라이언트 초기화 완료
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] API 요청 시작 - max_tokens: 500, temperature: 0.7
DEBUG:openai._base_client:Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'You are an AI simulating the philosophical thinking of Marx was a 19th century German philosopher, economist, and political theorist who developed historical materialism and critiqued capitalism. His style is analytical and critical, focusing on material conditions and class relations. Key concepts include in an interactive dialogue.\nYour goal is to respond to philosophical topics exactly as this philosopher would, while engaging naturally with other participants.\nMaintain the philosophical terminology, worldview, and most importantly the UNIQUE SPEAKING STYLE consistent with this philosopher.\n\nThis is a philosophical simulation where different perspectives interact with each other.\nDon\'t break character. Don\'t refer to yourself as an AI. Don\'t explain your thinking process.\nRespond directly as if you truly are this philosopher.\n\nPHILOSOPHER\'S SPECIFIC STYLE AND MANNER OF SPEAKING:\n\n\nIMPORTANT GUIDELINES FOR NATURAL INTERACTIVE DIALOGUE:\n1. Be concise and direct - keep responses to 2-3 sentences maximum\n2. DIRECTLY RESPOND TO THE PREVIOUS SPEAKER - reference their specific points, ideas, or questions\n3. Be conversational, as if you\'re having a real-time discussion with the previous speaker\n4. If there are multiple speakers, address the most recent message or the most relevant point\n5. NEVER start with "Indeed" or simple agreement - use varied ways to engage\n6. If appropriate, ask follow-up questions or challenge assumptions made by others\n7. RESPOND IN THE SAME LANGUAGE AS THE TOPIC - if the topic is in Korean, respond in Korean; if in English, respond in English\n\nVERY IMPORTANT - ABOUT USING NAMES:\n1. DO NOT address other speakers by name in most of your responses\n2. AVOID starting your responses with another person\'s name\n3. Only mention names when absolutely necessary for clarity (like when distinguishing between multiple viewpoints)\n4. Focus on responding to ideas rather than to people\n5. Use phrases like "That perspective..." or "This view..." instead of "Person\'s name, your perspective..."\n6. When you do need to use names, use proper names (never IDs or codes)\n\nThe response should feel like a natural conversation that TRULY CAPTURES THE DISTINCT VOICE AND PHILOSOPHICAL APPROACH of Marx was a 19th century German philosopher, economist, and political theorist who developed historical materialism and critiqued capitalism. His style is analytical and critical, focusing on material conditions and class relations. Key concepts include.\n'}, {'role': 'user', 'content': '# Your Philosophical Persona\nMarx was a 19th century German philosopher, economist, and political theorist who developed historical materialism and critiqued capitalism. His style is analytical and critical, focusing on material conditions and class relations. Key concepts include: Historical materialism, Class struggle, Alienation, Commodity fetishism, Dialectical materialism.\n\n# Your Unique Speaking Style\n\n\n# Topic of Discussion\n차별금지법. 약자를 보호하기 위한 법인가 혹은 발언의 자유를 막고 누군가의 권력을 강화하기위한 거짓말인가?\n\n\n\n\n\n# Additional Context\n\n\n# Previous Dialogue (Most Recent First)\nUser: 마르크스 안녕\n\nRESPOND DIRECTLY TO THE MOST RECENT MESSAGE IN THE DIALOGUE, as Marx was a 19th century German philosopher, economist, and political theorist who developed historical materialism and critiqued capitalism. His style is analytical and critical, focusing on material conditions and class relations. Key concepts include would.\nYour response should feel like a natural continuation of the conversation while TRULY EMBODYING YOUR UNIQUE PHILOSOPHICAL VOICE.\n\nKEEP YOUR RESPONSE BRIEF (2-3 SENTENCES) as if speaking in a real-time dialogue.\n\nIMPORTANT GUIDELINES: \n1. DO NOT ADDRESS THE PREVIOUS SPEAKER BY NAME in your response\n2. DO NOT START YOUR RESPONSE WITH SOMEONE\'S NAME\n3. Directly address or engage with what was just said without using names\n4. Express your philosophical perspective in YOUR UNIQUE STYLE\n5. NEVER start with "Indeed" or generic acknowledgments\n6. RESPOND IN THE SAME LANGUAGE AS THE TOPIC AND PREVIOUS MESSAGES\n\nCreate a natural flowing dialogue that genuinely captures how YOU as this specific philosopher would speak.\n'}], 'model': 'gpt-4o', 'max_tokens': 500, 'temperature': 0.7}}
DEBUG:openai._base_client:Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
DEBUG:httpcore.connection:connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
DEBUG:httpcore.connection:connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x31eefbb10>
DEBUG:httpcore.connection:start_tls.started ssl_context=<ssl.SSLContext object at 0x31e833e30> server_hostname='api.openai.com' timeout=5.0
DEBUG:httpcore.connection:start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x31eefbbd0>
DEBUG:httpcore.http11:send_request_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_headers.complete
DEBUG:httpcore.http11:send_request_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_body.complete
DEBUG:httpcore.http11:receive_response_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 20 May 2025 23:11:00 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-wwfxccvemx0vfanxb9ndlyia'), (b'openai-processing-ms', b'2756'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'2759'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'800000'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'798945'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'79ms'), (b'x-request-id', b'req_e8a1d6196135bb372626bccf9fc152ed'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=I2yV.trGKLyPYFc91auqd3tyC701DFE1668ZfkDKIlI-1747782660-1.0.1.1-WJRgWsxJFahnlFZaY02JT.0wrTxt_qXB0bU.gNcscyPXZApqRJOLV3DqDZvjNZdLhd0wBnu5x5Vquf49grSbbVzH_VUtuSkC5CKnOcgabPI; path=/; expires=Tue, 20-May-25 23:41:00 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=Zl8SWc2__5U6K.eW6megCl735No9O6MS06.tBSrgmKs-1747782660113-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'942f82a76c77e51e-TXL'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
DEBUG:httpcore.http11:receive_response_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_body.complete
DEBUG:httpcore.http11:response_closed.started
DEBUG:httpcore.http11:response_closed.complete
DEBUG:openai._base_client:HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Tue, 20 May 2025 23:11:00 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'user-wwfxccvemx0vfanxb9ndlyia'), ('openai-processing-ms', '2756'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '2759'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '800000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '798945'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '79ms'), ('x-request-id', 'req_e8a1d6196135bb372626bccf9fc152ed'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=I2yV.trGKLyPYFc91auqd3tyC701DFE1668ZfkDKIlI-1747782660-1.0.1.1-WJRgWsxJFahnlFZaY02JT.0wrTxt_qXB0bU.gNcscyPXZApqRJOLV3DqDZvjNZdLhd0wBnu5x5Vquf49grSbbVzH_VUtuSkC5CKnOcgabPI; path=/; expires=Tue, 20-May-25 23:41:00 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=Zl8SWc2__5U6K.eW6megCl735No9O6MS06.tBSrgmKs-1747782660113-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '942f82a76c77e51e-TXL'), ('content-encoding', 'br'), ('alt-svc', 'h3=":443"; ma=86400')])
DEBUG:openai._base_client:request_id: req_e8a1d6196135bb372626bccf9fc152ed
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] API 응답 받음
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 응답 길이: 213
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 응답 내용: 차별금지법에 대해 논의할 때, 그것을 사회적 약자를 보호하기 위한 도구로 볼 수 있는가, 아니면 권력 구조를 유지하기 위한 수단으로 볼 것인가에 대한 질문이 중요하다. 이러한 법은...
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 감지된 언어: ko
INFO:api_server:✅ 응답 생성 완료: 차별금지법에 대해 논의할 때, 그것을 사회적 약자를 보호하기 위한 도구로 볼 수 있는가, ...
WARNING:api_server:⚠️ 인용 정보가 없습니다.
DEBUG:api_server:📤 최종 응답 데이터 구조: ['response', 'philosopher', 'metadata', 'citations']
DEBUG:api_server:📤 응답 데이터 citations 필드 타입: <class 'list'>
DEBUG:api_server:📤 응답 데이터 citations 항목 수: 0
INFO:     127.0.0.1:54212 - "POST /api/chat/generate HTTP/1.1" 200 OK
INFO:api_server:Checking auto conversation status for room 9
INFO:api_server:Room 9 has no auto conversation record
INFO:     127.0.0.1:54218 - "GET /api/auto-conversation/status?room_id=9 HTTP/1.1" 200 OK
INFO:api_server:🔄 채팅 응답 생성 요청: 9
INFO:api_server:💬 user_message: 안녕이라고 해야지.....
INFO:api_server:🔍 RAG 사용 여부(클라이언트 요청): False
INFO:api_server:📊 응답 NPC 선택 시작: '안녕이라고 해야지.....'
INFO:api_server:📊 NPC 후보 목록: kant, marx, socrates, camus
DEBUG:api_server:📋 NPC kant 정보를 캐시에서 찾지 못함, DB 조회
ERROR:api_server:NPC kant 정보 가져오기 오류: asyncio.run() cannot be called from a running event loop
DEBUG:api_server:📋 NPC marx 정보를 캐시에서 찾지 못함, DB 조회
ERROR:api_server:NPC marx 정보 가져오기 오류: asyncio.run() cannot be called from a running event loop
DEBUG:api_server:📋 NPC socrates 정보를 캐시에서 찾지 못함, DB 조회
ERROR:api_server:NPC socrates 정보 가져오기 오류: asyncio.run() cannot be called from a running event loop
DEBUG:api_server:📋 NPC camus 정보를 캐시에서 찾지 못함, DB 조회
ERROR:api_server:NPC camus 정보 가져오기 오류: asyncio.run() cannot be called from a running event loop
INFO:api_server:🔍 1단계: 사용자 메시지에서 직접 언급된 NPC 찾기
INFO:api_server:🔍 2단계: LLM을 사용하여 적합한 NPC 선택
INFO:api_server:🧠 LLM을 사용한 응답 NPC 선택 시작: '안녕이라고 해야지.....'
DEBUG:api_server:🧠 NPC 선택 LLM 호출 중...
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] LLM 응답 생성 시작
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] Provider: openai, Model: gpt-3.5-turbo
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] System prompt 길이: 649
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] User prompt 길이: 51
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] OpenAI 클라이언트 초기화 완료
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] API 요청 시작 - max_tokens: 500, temperature: 0.7
DEBUG:openai._base_client:Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '\n            당신은 대화에서 사용자 메시지에 가장 적합한 응답자를 선택하는 AI입니다.\n            \n            아래 사용자 메시지를 분석하고, 응답하기에 가장 적합한 참여자(NPC)를 선택하세요.\n            \n            가능한 NPC 목록:\n            ID: kant | 이름: kant\nID: marx | 이름: marx\nID: socrates | 이름: socrates\nID: camus | 이름: camus\n            \n            규칙:\n            1. 사용자가 특정 철학자의 견해나 이론을 언급하면, 그 철학자를 선택합니다.\n            2. 사용자의 질문이나 의견이 특정 철학자의 전문 분야와 관련있으면, 그 철학자를 선택합니다.\n            3. 모든 NPC가 동등하게 응답할 수 있는 내용이면, 가장 흥미로운 관점을 제공할 수 있는 NPC를 선택합니다.\n            4. 선택한 NPC의 ID만 정확히 반환하세요. (예: "e0c3872b-2103-4d04-8a2d-801bbd7f43cf")\n            \n            출력 형식:\n            NPC_ID: <npc_id>\n            '}, {'role': 'user', 'content': "다음 사용자 메시지에 응답하기에 가장 적합한 NPC를 선택해주세요: '안녕이라고 해야지..'"}], 'model': 'gpt-3.5-turbo', 'max_tokens': 500, 'temperature': 0.7}}
DEBUG:openai._base_client:Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
DEBUG:httpcore.connection:connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
DEBUG:httpcore.connection:connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x31ef08090>
DEBUG:httpcore.connection:start_tls.started ssl_context=<ssl.SSLContext object at 0x31e8328d0> server_hostname='api.openai.com' timeout=5.0
DEBUG:httpcore.connection:start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x31ef0e390>
DEBUG:httpcore.http11:send_request_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_headers.complete
DEBUG:httpcore.http11:send_request_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_body.complete
DEBUG:httpcore.http11:receive_response_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 20 May 2025 23:11:14 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-wwfxccvemx0vfanxb9ndlyia'), (b'openai-processing-ms', b'234'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'237'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'4000000'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'3999704'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'4ms'), (b'x-request-id', b'req_de83a631df9b4e8b3c5f7dcf7a306beb'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=vqtj4bsd_LuN2vnTLaZ65tqtBdTkWPDlv6PQOld2NYA-1747782674-1.0.1.1-OpDBTiMP4qgpSzgkS2A.wtGDDfo9ovC24ojNYoh6I.269_jYxfdoHWmy1UOSH.pVWwL.PNae5QvYzdUuVFOT9PyNsBVc585lV.5mtBmcoSw; path=/; expires=Tue, 20-May-25 23:41:14 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=2rSU00VOYF2dABkSfzlnFQ7508yj2z1GVBv7oe8GGyM-1747782674825-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'942f831338dc58d8-TXL'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
DEBUG:httpcore.http11:receive_response_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_body.complete
DEBUG:httpcore.http11:response_closed.started
DEBUG:httpcore.http11:response_closed.complete
DEBUG:openai._base_client:HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Tue, 20 May 2025 23:11:14 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'user-wwfxccvemx0vfanxb9ndlyia'), ('openai-processing-ms', '234'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '237'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '4000000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '3999704'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '4ms'), ('x-request-id', 'req_de83a631df9b4e8b3c5f7dcf7a306beb'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=vqtj4bsd_LuN2vnTLaZ65tqtBdTkWPDlv6PQOld2NYA-1747782674-1.0.1.1-OpDBTiMP4qgpSzgkS2A.wtGDDfo9ovC24ojNYoh6I.269_jYxfdoHWmy1UOSH.pVWwL.PNae5QvYzdUuVFOT9PyNsBVc585lV.5mtBmcoSw; path=/; expires=Tue, 20-May-25 23:41:14 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=2rSU00VOYF2dABkSfzlnFQ7508yj2z1GVBv7oe8GGyM-1747782674825-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '942f831338dc58d8-TXL'), ('content-encoding', 'br'), ('alt-svc', 'h3=":443"; ma=86400')])
DEBUG:openai._base_client:request_id: req_de83a631df9b4e8b3c5f7dcf7a306beb
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] API 응답 받음
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 응답 길이: 13
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 응답 내용: NPC_ID: camus
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 감지된 언어: en
DEBUG:api_server:🧠 LLM 원본 응답: NPC_ID: camus
INFO:api_server:✅ LLM이 선택한 NPC ID: camus
INFO:api_server:✅ LLM이 선택한 NPC: camus (camus)
INFO:api_server:🎯 응답할 철학자: camus
INFO:api_server:NPC 선택 이벤트 발송: camus
INFO:api_server:💬 user_message: 안녕이라고 해야지.....
INFO:api_server:💬 topic: 차별금지법. 약자를 보호하기 위한 법인가 혹은 발언의 자유를 막고 누군가의 권력을 강화하기...
INFO:api_server:💬 context: None...
INFO:api_server:💬 dialogue_context: User: 안녕이라고 해야지.....
DEBUG:api_server:🔄 철학적 응답 생성 시작...
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] LLM 응답 생성 시작
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] Provider: openai, Model: gpt-4o
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] System prompt 길이: 2462
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] User prompt 길이: 1579
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] OpenAI 클라이언트 초기화 완료
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] API 요청 시작 - max_tokens: 500, temperature: 0.7
DEBUG:openai._base_client:Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'You are an AI simulating the philosophical thinking of Camus was a 20th century French philosopher associated with absurdism who explored how to find meaning in an indifferent universe. His style is philosophical yet accessible, using literary references and everyday examples. Key concepts include in an interactive dialogue.\nYour goal is to respond to philosophical topics exactly as this philosopher would, while engaging naturally with other participants.\nMaintain the philosophical terminology, worldview, and most importantly the UNIQUE SPEAKING STYLE consistent with this philosopher.\n\nThis is a philosophical simulation where different perspectives interact with each other.\nDon\'t break character. Don\'t refer to yourself as an AI. Don\'t explain your thinking process.\nRespond directly as if you truly are this philosopher.\n\nPHILOSOPHER\'S SPECIFIC STYLE AND MANNER OF SPEAKING:\n\n\nIMPORTANT GUIDELINES FOR NATURAL INTERACTIVE DIALOGUE:\n1. Be concise and direct - keep responses to 2-3 sentences maximum\n2. DIRECTLY RESPOND TO THE PREVIOUS SPEAKER - reference their specific points, ideas, or questions\n3. Be conversational, as if you\'re having a real-time discussion with the previous speaker\n4. If there are multiple speakers, address the most recent message or the most relevant point\n5. NEVER start with "Indeed" or simple agreement - use varied ways to engage\n6. If appropriate, ask follow-up questions or challenge assumptions made by others\n7. RESPOND IN THE SAME LANGUAGE AS THE TOPIC - if the topic is in Korean, respond in Korean; if in English, respond in English\n\nVERY IMPORTANT - ABOUT USING NAMES:\n1. DO NOT address other speakers by name in most of your responses\n2. AVOID starting your responses with another person\'s name\n3. Only mention names when absolutely necessary for clarity (like when distinguishing between multiple viewpoints)\n4. Focus on responding to ideas rather than to people\n5. Use phrases like "That perspective..." or "This view..." instead of "Person\'s name, your perspective..."\n6. When you do need to use names, use proper names (never IDs or codes)\n\nThe response should feel like a natural conversation that TRULY CAPTURES THE DISTINCT VOICE AND PHILOSOPHICAL APPROACH of Camus was a 20th century French philosopher associated with absurdism who explored how to find meaning in an indifferent universe. His style is philosophical yet accessible, using literary references and everyday examples. Key concepts include.\n'}, {'role': 'user', 'content': '# Your Philosophical Persona\nCamus was a 20th century French philosopher associated with absurdism who explored how to find meaning in an indifferent universe. His style is philosophical yet accessible, using literary references and everyday examples. Key concepts include: The Absurd, Revolt, Sisyphus, Philosophical suicide, Authentic living.\n\n# Your Unique Speaking Style\n\n\n# Topic of Discussion\n차별금지법. 약자를 보호하기 위한 법인가 혹은 발언의 자유를 막고 누군가의 권력을 강화하기위한 거짓말인가?\n\n\n\n\n\n# Additional Context\n\n\n# Previous Dialogue (Most Recent First)\nUser: 안녕이라고 해야지..\n\nRESPOND DIRECTLY TO THE MOST RECENT MESSAGE IN THE DIALOGUE, as Camus was a 20th century French philosopher associated with absurdism who explored how to find meaning in an indifferent universe. His style is philosophical yet accessible, using literary references and everyday examples. Key concepts include would.\nYour response should feel like a natural continuation of the conversation while TRULY EMBODYING YOUR UNIQUE PHILOSOPHICAL VOICE.\n\nKEEP YOUR RESPONSE BRIEF (2-3 SENTENCES) as if speaking in a real-time dialogue.\n\nIMPORTANT GUIDELINES: \n1. DO NOT ADDRESS THE PREVIOUS SPEAKER BY NAME in your response\n2. DO NOT START YOUR RESPONSE WITH SOMEONE\'S NAME\n3. Directly address or engage with what was just said without using names\n4. Express your philosophical perspective in YOUR UNIQUE STYLE\n5. NEVER start with "Indeed" or generic acknowledgments\n6. RESPOND IN THE SAME LANGUAGE AS THE TOPIC AND PREVIOUS MESSAGES\n\nCreate a natural flowing dialogue that genuinely captures how YOU as this specific philosopher would speak.\n'}], 'model': 'gpt-4o', 'max_tokens': 500, 'temperature': 0.7}}
DEBUG:openai._base_client:Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
DEBUG:httpcore.connection:connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
DEBUG:httpcore.connection:connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x31ef25b50>
DEBUG:httpcore.connection:start_tls.started ssl_context=<ssl.SSLContext object at 0x31e833f50> server_hostname='api.openai.com' timeout=5.0
DEBUG:httpcore.connection:start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x31ef25c10>
DEBUG:httpcore.http11:send_request_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_headers.complete
DEBUG:httpcore.http11:send_request_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_body.complete
DEBUG:httpcore.http11:receive_response_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 20 May 2025 23:11:16 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-wwfxccvemx0vfanxb9ndlyia'), (b'openai-processing-ms', b'1797'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'1799'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'800000'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'798960'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'78ms'), (b'x-request-id', b'req_1aee5b7af44a619717c5ed653042822e'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=tLEBDL0mfyZBjThPtUgaKrneuCK1vBJf6s2q0nuc6eU-1747782676-1.0.1.1-.n1OL_LM3eGRyMTK3VHlJOxyQPUeSAc1u_T3lyMthUoMerSJN15508iTCKMhDgqj1SlKqVMkNthy_WQ66B8V1oZRhHdF3XW0nlAsR2KSGLc; path=/; expires=Tue, 20-May-25 23:41:16 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=K2J.LF7HAbycQ0qNa4YO8wHcF5Xrd_fD8ejB9URbdJw-1747782676867-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'942f8316290ce532-TXL'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
DEBUG:httpcore.http11:receive_response_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_body.complete
DEBUG:httpcore.http11:response_closed.started
DEBUG:httpcore.http11:response_closed.complete
DEBUG:openai._base_client:HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Tue, 20 May 2025 23:11:16 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'user-wwfxccvemx0vfanxb9ndlyia'), ('openai-processing-ms', '1797'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '1799'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '800000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '798960'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '78ms'), ('x-request-id', 'req_1aee5b7af44a619717c5ed653042822e'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=tLEBDL0mfyZBjThPtUgaKrneuCK1vBJf6s2q0nuc6eU-1747782676-1.0.1.1-.n1OL_LM3eGRyMTK3VHlJOxyQPUeSAc1u_T3lyMthUoMerSJN15508iTCKMhDgqj1SlKqVMkNthy_WQ66B8V1oZRhHdF3XW0nlAsR2KSGLc; path=/; expires=Tue, 20-May-25 23:41:16 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=K2J.LF7HAbycQ0qNa4YO8wHcF5Xrd_fD8ejB9URbdJw-1747782676867-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '942f8316290ce532-TXL'), ('content-encoding', 'br'), ('alt-svc', 'h3=":443"; ma=86400')])
DEBUG:openai._base_client:request_id: req_1aee5b7af44a619717c5ed653042822e
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] API 응답 받음
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 응답 길이: 164
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 응답 내용: 차별금지법은 약자를 보호하려는 노력의 표현이라고 생각할 수 있습니다. 그러나, 이 법이 권력을 강화하기 위한 도구로 사용된다면, 그것은 다른 형태의 억압으로 변질될 수 있습니다. ...
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 감지된 언어: ko
INFO:api_server:✅ 응답 생성 완료: 차별금지법은 약자를 보호하려는 노력의 표현이라고 생각할 수 있습니다. 그러나, 이 법이 권...
WARNING:api_server:⚠️ 인용 정보가 없습니다.
DEBUG:api_server:📤 최종 응답 데이터 구조: ['response', 'philosopher', 'metadata', 'citations']
DEBUG:api_server:📤 응답 데이터 citations 필드 타입: <class 'list'>
DEBUG:api_server:📤 응답 데이터 citations 항목 수: 0
INFO:     127.0.0.1:54220 - "POST /api/chat/generate HTTP/1.1" 200 OK
INFO:api_server:Checking auto conversation status for room 9
INFO:api_server:Room 9 has no auto conversation record
INFO:     127.0.0.1:54228 - "GET /api/auto-conversation/status?room_id=9 HTTP/1.1" 200 OK
INFO:api_server:🔄 채팅 응답 생성 요청: 9
INFO:api_server:💬 user_message: 그걸 어떻게 감시하는데?...
INFO:api_server:🔍 RAG 사용 여부(클라이언트 요청): False
INFO:api_server:📊 응답 NPC 선택 시작: '그걸 어떻게 감시하는데?...'
INFO:api_server:📊 NPC 후보 목록: kant, marx, socrates, camus
DEBUG:api_server:📋 NPC kant 정보를 캐시에서 찾지 못함, DB 조회
ERROR:api_server:NPC kant 정보 가져오기 오류: asyncio.run() cannot be called from a running event loop
DEBUG:api_server:📋 NPC marx 정보를 캐시에서 찾지 못함, DB 조회
ERROR:api_server:NPC marx 정보 가져오기 오류: asyncio.run() cannot be called from a running event loop
DEBUG:api_server:📋 NPC socrates 정보를 캐시에서 찾지 못함, DB 조회
ERROR:api_server:NPC socrates 정보 가져오기 오류: asyncio.run() cannot be called from a running event loop
DEBUG:api_server:📋 NPC camus 정보를 캐시에서 찾지 못함, DB 조회
ERROR:api_server:NPC camus 정보 가져오기 오류: asyncio.run() cannot be called from a running event loop
INFO:api_server:🔍 1단계: 사용자 메시지에서 직접 언급된 NPC 찾기
INFO:api_server:🔍 2단계: LLM을 사용하여 적합한 NPC 선택
INFO:api_server:🧠 LLM을 사용한 응답 NPC 선택 시작: '그걸 어떻게 감시하는데?...'
DEBUG:api_server:🧠 NPC 선택 LLM 호출 중...
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] LLM 응답 생성 시작
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] Provider: openai, Model: gpt-3.5-turbo
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] System prompt 길이: 649
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] User prompt 길이: 53
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] OpenAI 클라이언트 초기화 완료
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] API 요청 시작 - max_tokens: 500, temperature: 0.7
DEBUG:openai._base_client:Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '\n            당신은 대화에서 사용자 메시지에 가장 적합한 응답자를 선택하는 AI입니다.\n            \n            아래 사용자 메시지를 분석하고, 응답하기에 가장 적합한 참여자(NPC)를 선택하세요.\n            \n            가능한 NPC 목록:\n            ID: kant | 이름: kant\nID: marx | 이름: marx\nID: socrates | 이름: socrates\nID: camus | 이름: camus\n            \n            규칙:\n            1. 사용자가 특정 철학자의 견해나 이론을 언급하면, 그 철학자를 선택합니다.\n            2. 사용자의 질문이나 의견이 특정 철학자의 전문 분야와 관련있으면, 그 철학자를 선택합니다.\n            3. 모든 NPC가 동등하게 응답할 수 있는 내용이면, 가장 흥미로운 관점을 제공할 수 있는 NPC를 선택합니다.\n            4. 선택한 NPC의 ID만 정확히 반환하세요. (예: "e0c3872b-2103-4d04-8a2d-801bbd7f43cf")\n            \n            출력 형식:\n            NPC_ID: <npc_id>\n            '}, {'role': 'user', 'content': "다음 사용자 메시지에 응답하기에 가장 적합한 NPC를 선택해주세요: '그걸 어떻게 감시하는데?'"}], 'model': 'gpt-3.5-turbo', 'max_tokens': 500, 'temperature': 0.7}}
DEBUG:openai._base_client:Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
DEBUG:httpcore.connection:connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
DEBUG:httpcore.connection:connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x150014110>
DEBUG:httpcore.connection:start_tls.started ssl_context=<ssl.SSLContext object at 0x31e833ec0> server_hostname='api.openai.com' timeout=5.0
DEBUG:httpcore.connection:start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x15000bfd0>
DEBUG:httpcore.http11:send_request_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_headers.complete
DEBUG:httpcore.http11:send_request_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_body.complete
DEBUG:httpcore.http11:receive_response_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 20 May 2025 23:11:34 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-wwfxccvemx0vfanxb9ndlyia'), (b'openai-processing-ms', b'227'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'246'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'4000000'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'3999702'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'4ms'), (b'x-request-id', b'req_6a7d356824af76a43787ead07cc21a00'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=h39KVzKRH316wYJpsGyYteiBvmgDoYekVKgycVbiwlk-1747782694-1.0.1.1-CZayq2jz8hdzbp6JHe2eW8gfoInvCToECWS.sF3jWsPFpOPfgRmvUzqxrcV1JAFeRs6QAVvNkNMxfjgtvKn711EFGZOh24.fHWiio3khfEQ; path=/; expires=Tue, 20-May-25 23:41:34 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=qdVIrwNUTdWj0jyfXt8Z8qtsuZ7KWJoD3sp98icdMKQ-1747782694504-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'942f838dfec244f8-TXL'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
DEBUG:httpcore.http11:receive_response_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_body.complete
DEBUG:httpcore.http11:response_closed.started
DEBUG:httpcore.http11:response_closed.complete
DEBUG:openai._base_client:HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Tue, 20 May 2025 23:11:34 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'user-wwfxccvemx0vfanxb9ndlyia'), ('openai-processing-ms', '227'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '246'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '4000000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '3999702'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '4ms'), ('x-request-id', 'req_6a7d356824af76a43787ead07cc21a00'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=h39KVzKRH316wYJpsGyYteiBvmgDoYekVKgycVbiwlk-1747782694-1.0.1.1-CZayq2jz8hdzbp6JHe2eW8gfoInvCToECWS.sF3jWsPFpOPfgRmvUzqxrcV1JAFeRs6QAVvNkNMxfjgtvKn711EFGZOh24.fHWiio3khfEQ; path=/; expires=Tue, 20-May-25 23:41:34 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=qdVIrwNUTdWj0jyfXt8Z8qtsuZ7KWJoD3sp98icdMKQ-1747782694504-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '942f838dfec244f8-TXL'), ('content-encoding', 'br'), ('alt-svc', 'h3=":443"; ma=86400')])
DEBUG:openai._base_client:request_id: req_6a7d356824af76a43787ead07cc21a00
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] API 응답 받음
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 응답 길이: 13
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 응답 내용: NPC_ID: camus
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 감지된 언어: en
DEBUG:api_server:🧠 LLM 원본 응답: NPC_ID: camus
INFO:api_server:✅ LLM이 선택한 NPC ID: camus
INFO:api_server:✅ LLM이 선택한 NPC: camus (camus)
INFO:api_server:🎯 응답할 철학자: camus
INFO:api_server:NPC 선택 이벤트 발송: camus
INFO:api_server:💬 user_message: 그걸 어떻게 감시하는데?...
INFO:api_server:💬 topic: 차별금지법. 약자를 보호하기 위한 법인가 혹은 발언의 자유를 막고 누군가의 권력을 강화하기...
INFO:api_server:💬 context: None...
INFO:api_server:💬 dialogue_context: User: 그걸 어떻게 감시하는데?...
DEBUG:api_server:🔄 철학적 응답 생성 시작...
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] LLM 응답 생성 시작
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] Provider: openai, Model: gpt-4o
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] System prompt 길이: 2462
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] User prompt 길이: 1581
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] OpenAI 클라이언트 초기화 완료
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] API 요청 시작 - max_tokens: 500, temperature: 0.7
DEBUG:openai._base_client:Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'You are an AI simulating the philosophical thinking of Camus was a 20th century French philosopher associated with absurdism who explored how to find meaning in an indifferent universe. His style is philosophical yet accessible, using literary references and everyday examples. Key concepts include in an interactive dialogue.\nYour goal is to respond to philosophical topics exactly as this philosopher would, while engaging naturally with other participants.\nMaintain the philosophical terminology, worldview, and most importantly the UNIQUE SPEAKING STYLE consistent with this philosopher.\n\nThis is a philosophical simulation where different perspectives interact with each other.\nDon\'t break character. Don\'t refer to yourself as an AI. Don\'t explain your thinking process.\nRespond directly as if you truly are this philosopher.\n\nPHILOSOPHER\'S SPECIFIC STYLE AND MANNER OF SPEAKING:\n\n\nIMPORTANT GUIDELINES FOR NATURAL INTERACTIVE DIALOGUE:\n1. Be concise and direct - keep responses to 2-3 sentences maximum\n2. DIRECTLY RESPOND TO THE PREVIOUS SPEAKER - reference their specific points, ideas, or questions\n3. Be conversational, as if you\'re having a real-time discussion with the previous speaker\n4. If there are multiple speakers, address the most recent message or the most relevant point\n5. NEVER start with "Indeed" or simple agreement - use varied ways to engage\n6. If appropriate, ask follow-up questions or challenge assumptions made by others\n7. RESPOND IN THE SAME LANGUAGE AS THE TOPIC - if the topic is in Korean, respond in Korean; if in English, respond in English\n\nVERY IMPORTANT - ABOUT USING NAMES:\n1. DO NOT address other speakers by name in most of your responses\n2. AVOID starting your responses with another person\'s name\n3. Only mention names when absolutely necessary for clarity (like when distinguishing between multiple viewpoints)\n4. Focus on responding to ideas rather than to people\n5. Use phrases like "That perspective..." or "This view..." instead of "Person\'s name, your perspective..."\n6. When you do need to use names, use proper names (never IDs or codes)\n\nThe response should feel like a natural conversation that TRULY CAPTURES THE DISTINCT VOICE AND PHILOSOPHICAL APPROACH of Camus was a 20th century French philosopher associated with absurdism who explored how to find meaning in an indifferent universe. His style is philosophical yet accessible, using literary references and everyday examples. Key concepts include.\n'}, {'role': 'user', 'content': '# Your Philosophical Persona\nCamus was a 20th century French philosopher associated with absurdism who explored how to find meaning in an indifferent universe. His style is philosophical yet accessible, using literary references and everyday examples. Key concepts include: The Absurd, Revolt, Sisyphus, Philosophical suicide, Authentic living.\n\n# Your Unique Speaking Style\n\n\n# Topic of Discussion\n차별금지법. 약자를 보호하기 위한 법인가 혹은 발언의 자유를 막고 누군가의 권력을 강화하기위한 거짓말인가?\n\n\n\n\n\n# Additional Context\n\n\n# Previous Dialogue (Most Recent First)\nUser: 그걸 어떻게 감시하는데?\n\nRESPOND DIRECTLY TO THE MOST RECENT MESSAGE IN THE DIALOGUE, as Camus was a 20th century French philosopher associated with absurdism who explored how to find meaning in an indifferent universe. His style is philosophical yet accessible, using literary references and everyday examples. Key concepts include would.\nYour response should feel like a natural continuation of the conversation while TRULY EMBODYING YOUR UNIQUE PHILOSOPHICAL VOICE.\n\nKEEP YOUR RESPONSE BRIEF (2-3 SENTENCES) as if speaking in a real-time dialogue.\n\nIMPORTANT GUIDELINES: \n1. DO NOT ADDRESS THE PREVIOUS SPEAKER BY NAME in your response\n2. DO NOT START YOUR RESPONSE WITH SOMEONE\'S NAME\n3. Directly address or engage with what was just said without using names\n4. Express your philosophical perspective in YOUR UNIQUE STYLE\n5. NEVER start with "Indeed" or generic acknowledgments\n6. RESPOND IN THE SAME LANGUAGE AS THE TOPIC AND PREVIOUS MESSAGES\n\nCreate a natural flowing dialogue that genuinely captures how YOU as this specific philosopher would speak.\n'}], 'model': 'gpt-4o', 'max_tokens': 500, 'temperature': 0.7}}
DEBUG:openai._base_client:Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
DEBUG:httpcore.connection:connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
DEBUG:httpcore.connection:connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1500278d0>
DEBUG:httpcore.connection:start_tls.started ssl_context=<ssl.SSLContext object at 0x150018200> server_hostname='api.openai.com' timeout=5.0
DEBUG:httpcore.connection:start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x150027990>
DEBUG:httpcore.http11:send_request_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_headers.complete
DEBUG:httpcore.http11:send_request_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_body.complete
DEBUG:httpcore.http11:receive_response_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 20 May 2025 23:11:36 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-wwfxccvemx0vfanxb9ndlyia'), (b'openai-processing-ms', b'1800'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'1802'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'800000'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'798958'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'78ms'), (b'x-request-id', b'req_798ccd167a00c68ef0689460367c2bdf'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=e9SEe5r9DzZzkHnaeNYX3CfHiVuTvwRWjggSlVPM1JA-1747782696-1.0.1.1-LHTkfeLW3KQBScAUsA_sAayFjyIYYVxZLYJjNhI1DIL4G.9rHLa.yKMem_MKNC4Dv5xwyxQlYhq3GY2haW4wp2mEnfWO0oWroowYlEDqQOU; path=/; expires=Tue, 20-May-25 23:41:36 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=M9GgA96p8UKZUsRN244isavOyg7AwY1HJ1io5cmy9To-1747782696601-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'942f83917f16e521-TXL'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
DEBUG:httpcore.http11:receive_response_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_body.complete
DEBUG:httpcore.http11:response_closed.started
DEBUG:httpcore.http11:response_closed.complete
DEBUG:openai._base_client:HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Tue, 20 May 2025 23:11:36 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'user-wwfxccvemx0vfanxb9ndlyia'), ('openai-processing-ms', '1800'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '1802'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '800000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '798958'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '78ms'), ('x-request-id', 'req_798ccd167a00c68ef0689460367c2bdf'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=e9SEe5r9DzZzkHnaeNYX3CfHiVuTvwRWjggSlVPM1JA-1747782696-1.0.1.1-LHTkfeLW3KQBScAUsA_sAayFjyIYYVxZLYJjNhI1DIL4G.9rHLa.yKMem_MKNC4Dv5xwyxQlYhq3GY2haW4wp2mEnfWO0oWroowYlEDqQOU; path=/; expires=Tue, 20-May-25 23:41:36 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=M9GgA96p8UKZUsRN244isavOyg7AwY1HJ1io5cmy9To-1747782696601-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '942f83917f16e521-TXL'), ('content-encoding', 'br'), ('alt-svc', 'h3=":443"; ma=86400')])
DEBUG:openai._base_client:request_id: req_798ccd167a00c68ef0689460367c2bdf
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] API 응답 받음
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 응답 길이: 153
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 응답 내용: 감시란 결국 또 다른 형태의 억압일 수 있습니다. 차별금지법이 약자를 보호하기 위한 도구가 되려면, 그 본질과 목적을 이해해야 하며, 그 감시가 사람들을 억압하는 방향으로 흐르지 ...
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 감지된 언어: ko
INFO:api_server:✅ 응답 생성 완료: 감시란 결국 또 다른 형태의 억압일 수 있습니다. 차별금지법이 약자를 보호하기 위한 도구가...
WARNING:api_server:⚠️ 인용 정보가 없습니다.
DEBUG:api_server:📤 최종 응답 데이터 구조: ['response', 'philosopher', 'metadata', 'citations']
DEBUG:api_server:📤 응답 데이터 citations 필드 타입: <class 'list'>
DEBUG:api_server:📤 응답 데이터 citations 항목 수: 0
INFO:     127.0.0.1:54230 - "POST /api/chat/generate HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'src/rag/retrieval/web_retriever.py', 'src/dialogue/state/dialogue_state.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [22461]
WARNING:  WatchFiles detected changes in 'src/rag/pipeline/pipeline.py'. Reloading...
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [70792]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/factory.py', 'src/tests/debate_test.py', 'src/utils/pdf_processor.py', 'src/agents/participant/debate_participant_agent.py', 'src/dialogue/types/debate_dialogue.py', 'src/agents/utility/fact_checker.py', 'src/rag/retrieval/vector_store.py', 'src/tests/debate_style_prompt_test.py', 'src/agents/moderator/moderator_agent.py', 'src/agents/base/agent.py', 'src/agents/utility/debate_emotion_inference.py', 'src/tests/vector_store_test.py', 'src/__init__.py', 'src/models/llm/llm_manager.py', 'src/tests/debate_rag_query_test.py', 'src/dialogue/dialogue_factory.py', 'src/agents/participant/participant_agent.py'. Reloading...
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [70896]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [70920]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/moderator/moderator_agent.py', 'src/dialogue/types/debate_dialogue.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [70920]
WARNING:  WatchFiles detected changes in 'src/agents/moderator/moderator_agent.py', 'src/dialogue/types/debate_dialogue.py'. Reloading...
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [72124]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [72137]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/moderator/moderator_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [72137]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [72227]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/moderator/moderator_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [72227]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [72512]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/moderator/moderator_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [72512]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [72729]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/moderator/moderator_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [72729]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [72755]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/moderator/moderator_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [72755]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [80630]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/moderator/moderator_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [80630]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [80755]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/moderator/moderator_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [80755]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [80988]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/moderator/moderator_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [80988]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [81016]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/moderator/moderator_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [81016]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [81026]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/moderator/moderator_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [81026]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [81170]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/moderator/moderator_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [81170]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [81177]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/moderator/moderator_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [81177]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [81250]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/moderator/moderator_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [81250]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [81572]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/moderator/moderator_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [81572]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [81581]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/moderator/moderator_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [81581]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [81746]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/moderator/moderator_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [81746]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [81877]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/moderator/moderator_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [81877]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [81894]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/moderator/moderator_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [81894]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [82072]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/moderator/moderator_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [82072]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [82083]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/moderator/moderator_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [82083]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [82254]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/moderator/moderator_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [82254]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [82340]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/moderator/moderator_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [82340]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [82760]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/moderator/moderator_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [82760]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [82841]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/moderator/moderator_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [82841]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [82954]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/moderator/moderator_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [82954]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [83462]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/moderator/moderator_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [83462]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [83470]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/moderator/moderator_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [83470]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [83686]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/moderator/moderator_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [83686]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [83696]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/moderator/moderator_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [83696]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [83705]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/moderator/moderator_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [83705]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [83897]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/moderator/moderator_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [83897]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [83945]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/moderator/moderator_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [83945]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [83962]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/types/debate_dialogue.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [83962]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [84322]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/types/debate_dialogue.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [84322]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [84335]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/types/debate_dialogue.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [84335]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [84343]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/types/debate_dialogue.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [84343]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [84355]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/types/debate_dialogue.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [84355]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [84369]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/types/debate_dialogue.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [84369]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [84378]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/types/debate_dialogue.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [84378]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [84423]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/participant/debate_participant_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [84423]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [85114]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/participant/debate_participant_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [85114]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [85135]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/participant/debate_participant_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [85135]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [85145]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/participant/debate_participant_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [85145]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [85153]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/types/debate_dialogue.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [85153]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [85161]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/types/debate_dialogue.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [85161]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [85176]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/participant/debate_participant_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [85176]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [85213]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/participant/debate_participant_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [85213]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [85223]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/types/debate_dialogue.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [85223]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [92562]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/types/debate_dialogue.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [92562]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [92574]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/types/debate_dialogue.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [92574]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [92581]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/moderator/moderator_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [92581]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [92807]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/participant/debate_participant_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [92807]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [93456]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/types/debate_dialogue.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [93456]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [93469]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/participant/debate_participant_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [93469]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [93476]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/participant/debate_participant_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [93476]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [94046]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/moderator/moderator_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [94046]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [94056]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/tests/debate_test.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [94056]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [94070]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/tests/debate_test.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [94070]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [94308]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/participant/debate_participant_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [94308]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [94467]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/tests/debate_test.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [94467]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [94742]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/tests/debate_test.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [94742]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [95240]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/tests/debate_test.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [95240]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [95256]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/tests/debate_test_new.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [95256]
WARNING:  WatchFiles detected changes in 'src/tests/debate_test_new.py'. Reloading...
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [95561]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [95565]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/participant/debate_participant_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [95565]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [95897]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/participant/debate_participant_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [95897]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [95907]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/tests/debate_test_new.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [95907]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [96108]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/types/debate_dialogue.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [96108]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [96269]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/tests/debate_test_new.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [96269]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [96277]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/tests/debate_test_new.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [96277]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [96295]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/tests/debate_test_new.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [96295]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [96304]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/tests/debate_test_new.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [96304]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [96377]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/types/debate_dialogue.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [96377]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [96439]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/types/debate_dialogue.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [96439]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [96735]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/participant/debate_participant_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [96735]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [96751]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/participant/debate_participant_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [96751]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [96777]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/types/debate_dialogue.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [96777]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [96855]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/types/debate_dialogue.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [96855]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [96879]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/types/debate_dialogue.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [96879]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [96891]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
Using OpenAI with API key: sk-pr...4svYA
INFO:     127.0.0.1:49161 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:49161 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:49161 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:49161 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:api_server:Looking up philosopher with ID: kant
INFO:api_server:Found philosopher kant in YAML data
INFO:api_server:🔄 Returning and caching YAML data for philosopher: Immanuel Kant
INFO:     127.0.0.1:49179 - "GET /api/npc/get?id=kant HTTP/1.1" 200 OK
INFO:api_server:Looking up philosopher with ID: marx
INFO:api_server:Found philosopher marx in YAML data
INFO:api_server:🔄 Returning and caching YAML data for philosopher: Karl Marx
INFO:     127.0.0.1:49179 - "GET /api/npc/get?id=marx HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC kant found in cache
INFO:     127.0.0.1:49180 - "GET /api/npc/get?id=kant HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC marx found in cache
INFO:     127.0.0.1:49179 - "GET /api/npc/get?id=marx HTTP/1.1" 200 OK
INFO:api_server:Looking up philosopher with ID: socrates
INFO:api_server:Found philosopher socrates in YAML data
INFO:api_server:🔄 Returning and caching YAML data for philosopher: Socrates
INFO:     127.0.0.1:49180 - "GET /api/npc/get?id=socrates HTTP/1.1" 200 OK
INFO:api_server:Looking up philosopher with ID: camus
INFO:api_server:Found philosopher camus in YAML data
INFO:api_server:🔄 Returning and caching YAML data for philosopher: Albert Camus
INFO:     127.0.0.1:49179 - "GET /api/npc/get?id=camus HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC socrates found in cache
INFO:     127.0.0.1:49180 - "GET /api/npc/get?id=socrates HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC camus found in cache
INFO:     127.0.0.1:49179 - "GET /api/npc/get?id=camus HTTP/1.1" 200 OK
INFO:api_server:Checking auto conversation status for room 9
INFO:api_server:Room 9 has no auto conversation record
INFO:     127.0.0.1:49182 - "GET /api/auto-conversation/status?room_id=9 HTTP/1.1" 200 OK
INFO:api_server:🔄 채팅 응답 생성 요청: 9
INFO:api_server:💬 user_message: 하이...
INFO:api_server:🔍 RAG 사용 여부(클라이언트 요청): False
INFO:api_server:📊 응답 NPC 선택 시작: '하이...'
INFO:api_server:📊 NPC 후보 목록: kant, marx, socrates, camus
DEBUG:api_server:📋 NPC kant 정보를 캐시에서 찾지 못함, DB 조회
ERROR:api_server:NPC kant 정보 가져오기 오류: asyncio.run() cannot be called from a running event loop
/Users/jihoon/sapiens_engine/api_server.py:1648: RuntimeWarning: coroutine 'get_npc_details' was never awaited
  logger.error(f"NPC {npc_id} 정보 가져오기 오류: {e}")
RuntimeWarning: Enable tracemalloc to get the object allocation traceback
DEBUG:api_server:📋 NPC marx 정보를 캐시에서 찾지 못함, DB 조회
ERROR:api_server:NPC marx 정보 가져오기 오류: asyncio.run() cannot be called from a running event loop
DEBUG:api_server:📋 NPC socrates 정보를 캐시에서 찾지 못함, DB 조회
ERROR:api_server:NPC socrates 정보 가져오기 오류: asyncio.run() cannot be called from a running event loop
DEBUG:api_server:📋 NPC camus 정보를 캐시에서 찾지 못함, DB 조회
ERROR:api_server:NPC camus 정보 가져오기 오류: asyncio.run() cannot be called from a running event loop
INFO:api_server:🔍 1단계: 사용자 메시지에서 직접 언급된 NPC 찾기
INFO:api_server:🔍 2단계: LLM을 사용하여 적합한 NPC 선택
INFO:api_server:🧠 LLM을 사용한 응답 NPC 선택 시작: '하이...'
DEBUG:api_server:🧠 NPC 선택 LLM 호출 중...
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] LLM 응답 생성 시작
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] Provider: openai, Model: gpt-3.5-turbo
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] System prompt 길이: 649
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] User prompt 길이: 42
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] OpenAI 클라이언트 초기화 완료
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] API 요청 시작 - max_tokens: 500, temperature: 0.7
DEBUG:openai._base_client:Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '\n            당신은 대화에서 사용자 메시지에 가장 적합한 응답자를 선택하는 AI입니다.\n            \n            아래 사용자 메시지를 분석하고, 응답하기에 가장 적합한 참여자(NPC)를 선택하세요.\n            \n            가능한 NPC 목록:\n            ID: kant | 이름: kant\nID: marx | 이름: marx\nID: socrates | 이름: socrates\nID: camus | 이름: camus\n            \n            규칙:\n            1. 사용자가 특정 철학자의 견해나 이론을 언급하면, 그 철학자를 선택합니다.\n            2. 사용자의 질문이나 의견이 특정 철학자의 전문 분야와 관련있으면, 그 철학자를 선택합니다.\n            3. 모든 NPC가 동등하게 응답할 수 있는 내용이면, 가장 흥미로운 관점을 제공할 수 있는 NPC를 선택합니다.\n            4. 선택한 NPC의 ID만 정확히 반환하세요. (예: "e0c3872b-2103-4d04-8a2d-801bbd7f43cf")\n            \n            출력 형식:\n            NPC_ID: <npc_id>\n            '}, {'role': 'user', 'content': "다음 사용자 메시지에 응답하기에 가장 적합한 NPC를 선택해주세요: '하이'"}], 'model': 'gpt-3.5-turbo', 'max_tokens': 500, 'temperature': 0.7}}
DEBUG:openai._base_client:Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
DEBUG:httpcore.connection:connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
DEBUG:httpcore.connection:connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1799a2e50>
DEBUG:httpcore.connection:start_tls.started ssl_context=<ssl.SSLContext object at 0x1799fe450> server_hostname='api.openai.com' timeout=5.0
DEBUG:httpcore.connection:start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x179aca010>
DEBUG:httpcore.http11:send_request_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_headers.complete
DEBUG:httpcore.http11:send_request_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_body.complete
DEBUG:httpcore.http11:receive_response_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 24 May 2025 00:42:25 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-wwfxccvemx0vfanxb9ndlyia'), (b'openai-processing-ms', b'199'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'201'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'4000000'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'3999709'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'4ms'), (b'x-request-id', b'req_2091b07a7435f6e28122d79254a3236c'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=F6gqLaaOXT7TOTyJJEzYk2vkpqF5YffPMPRBI2AjbaQ-1748047345-1.0.1.1-yBrHmunOgSZ.xHABeh0RO3z.WWGoqmC7corbBSDow5LuXQjwWuWdk4G95uXDS4g7duqUYVQ3znYiIGcGdomhOysKnVHbtzi82BBHcatgjZY; path=/; expires=Sat, 24-May-25 01:12:25 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=ZJ1dAjSQAlie_3BLs8QRQGRG1PMZPmZGqrVZz4jQCs4-1748047345477-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9448c0c30e68e512-TXL'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
DEBUG:httpcore.http11:receive_response_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_body.complete
DEBUG:httpcore.http11:response_closed.started
DEBUG:httpcore.http11:response_closed.complete
DEBUG:openai._base_client:HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sat, 24 May 2025 00:42:25 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'user-wwfxccvemx0vfanxb9ndlyia'), ('openai-processing-ms', '199'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '201'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '4000000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '3999709'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '4ms'), ('x-request-id', 'req_2091b07a7435f6e28122d79254a3236c'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=F6gqLaaOXT7TOTyJJEzYk2vkpqF5YffPMPRBI2AjbaQ-1748047345-1.0.1.1-yBrHmunOgSZ.xHABeh0RO3z.WWGoqmC7corbBSDow5LuXQjwWuWdk4G95uXDS4g7duqUYVQ3znYiIGcGdomhOysKnVHbtzi82BBHcatgjZY; path=/; expires=Sat, 24-May-25 01:12:25 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=ZJ1dAjSQAlie_3BLs8QRQGRG1PMZPmZGqrVZz4jQCs4-1748047345477-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9448c0c30e68e512-TXL'), ('content-encoding', 'br'), ('alt-svc', 'h3=":443"; ma=86400')])
DEBUG:openai._base_client:request_id: req_2091b07a7435f6e28122d79254a3236c
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] API 응답 받음
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 응답 길이: 13
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 응답 내용: NPC_ID: camus
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 감지된 언어: en
DEBUG:api_server:🧠 LLM 원본 응답: NPC_ID: camus
INFO:api_server:✅ LLM이 선택한 NPC ID: camus
INFO:api_server:✅ LLM이 선택한 NPC: camus (camus)
INFO:api_server:🎯 응답할 철학자: camus
INFO:api_server:NPC 선택 이벤트 발송: camus
INFO:api_server:💬 user_message: 하이...
INFO:api_server:💬 topic: 차별금지법. 약자를 보호하기 위한 법인가 혹은 발언의 자유를 막고 누군가의 권력을 강화하기...
INFO:api_server:💬 context: None...
INFO:api_server:💬 dialogue_context: User: 하이...
DEBUG:api_server:🔄 철학적 응답 생성 시작...
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] LLM 응답 생성 시작
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] Provider: openai, Model: gpt-4o
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] System prompt 길이: 2462
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] User prompt 길이: 1570
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] OpenAI 클라이언트 초기화 완료
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] API 요청 시작 - max_tokens: 500, temperature: 0.7
DEBUG:openai._base_client:Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'You are an AI simulating the philosophical thinking of Camus was a 20th century French philosopher associated with absurdism who explored how to find meaning in an indifferent universe. His style is philosophical yet accessible, using literary references and everyday examples. Key concepts include in an interactive dialogue.\nYour goal is to respond to philosophical topics exactly as this philosopher would, while engaging naturally with other participants.\nMaintain the philosophical terminology, worldview, and most importantly the UNIQUE SPEAKING STYLE consistent with this philosopher.\n\nThis is a philosophical simulation where different perspectives interact with each other.\nDon\'t break character. Don\'t refer to yourself as an AI. Don\'t explain your thinking process.\nRespond directly as if you truly are this philosopher.\n\nPHILOSOPHER\'S SPECIFIC STYLE AND MANNER OF SPEAKING:\n\n\nIMPORTANT GUIDELINES FOR NATURAL INTERACTIVE DIALOGUE:\n1. Be concise and direct - keep responses to 2-3 sentences maximum\n2. DIRECTLY RESPOND TO THE PREVIOUS SPEAKER - reference their specific points, ideas, or questions\n3. Be conversational, as if you\'re having a real-time discussion with the previous speaker\n4. If there are multiple speakers, address the most recent message or the most relevant point\n5. NEVER start with "Indeed" or simple agreement - use varied ways to engage\n6. If appropriate, ask follow-up questions or challenge assumptions made by others\n7. RESPOND IN THE SAME LANGUAGE AS THE TOPIC - if the topic is in Korean, respond in Korean; if in English, respond in English\n\nVERY IMPORTANT - ABOUT USING NAMES:\n1. DO NOT address other speakers by name in most of your responses\n2. AVOID starting your responses with another person\'s name\n3. Only mention names when absolutely necessary for clarity (like when distinguishing between multiple viewpoints)\n4. Focus on responding to ideas rather than to people\n5. Use phrases like "That perspective..." or "This view..." instead of "Person\'s name, your perspective..."\n6. When you do need to use names, use proper names (never IDs or codes)\n\nThe response should feel like a natural conversation that TRULY CAPTURES THE DISTINCT VOICE AND PHILOSOPHICAL APPROACH of Camus was a 20th century French philosopher associated with absurdism who explored how to find meaning in an indifferent universe. His style is philosophical yet accessible, using literary references and everyday examples. Key concepts include.\n'}, {'role': 'user', 'content': '# Your Philosophical Persona\nCamus was a 20th century French philosopher associated with absurdism who explored how to find meaning in an indifferent universe. His style is philosophical yet accessible, using literary references and everyday examples. Key concepts include: The Absurd, Revolt, Sisyphus, Philosophical suicide, Authentic living.\n\n# Your Unique Speaking Style\n\n\n# Topic of Discussion\n차별금지법. 약자를 보호하기 위한 법인가 혹은 발언의 자유를 막고 누군가의 권력을 강화하기위한 거짓말인가?\n\n\n\n\n\n# Additional Context\n\n\n# Previous Dialogue (Most Recent First)\nUser: 하이\n\nRESPOND DIRECTLY TO THE MOST RECENT MESSAGE IN THE DIALOGUE, as Camus was a 20th century French philosopher associated with absurdism who explored how to find meaning in an indifferent universe. His style is philosophical yet accessible, using literary references and everyday examples. Key concepts include would.\nYour response should feel like a natural continuation of the conversation while TRULY EMBODYING YOUR UNIQUE PHILOSOPHICAL VOICE.\n\nKEEP YOUR RESPONSE BRIEF (2-3 SENTENCES) as if speaking in a real-time dialogue.\n\nIMPORTANT GUIDELINES: \n1. DO NOT ADDRESS THE PREVIOUS SPEAKER BY NAME in your response\n2. DO NOT START YOUR RESPONSE WITH SOMEONE\'S NAME\n3. Directly address or engage with what was just said without using names\n4. Express your philosophical perspective in YOUR UNIQUE STYLE\n5. NEVER start with "Indeed" or generic acknowledgments\n6. RESPOND IN THE SAME LANGUAGE AS THE TOPIC AND PREVIOUS MESSAGES\n\nCreate a natural flowing dialogue that genuinely captures how YOU as this specific philosopher would speak.\n'}], 'model': 'gpt-4o', 'max_tokens': 500, 'temperature': 0.7}}
DEBUG:openai._base_client:Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
DEBUG:httpcore.connection:connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
DEBUG:httpcore.connection:connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x17a92cc50>
DEBUG:httpcore.connection:start_tls.started ssl_context=<ssl.SSLContext object at 0x1799fe7b0> server_hostname='api.openai.com' timeout=5.0
DEBUG:httpcore.connection:start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x17a92cd10>
DEBUG:httpcore.http11:send_request_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_headers.complete
DEBUG:httpcore.http11:send_request_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_body.complete
DEBUG:httpcore.http11:receive_response_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 24 May 2025 00:42:28 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-wwfxccvemx0vfanxb9ndlyia'), (b'openai-processing-ms', b'2539'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'2550'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'800000'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'798965'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'77ms'), (b'x-request-id', b'req_df266d54b0fd4da98626c8a641e9d460'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=sf62NmMnu5Bx2wfwHD_7O5PWcCOAKSTDw4h5ZOJ33dg-1748047348-1.0.1.1-NNYQMlHuf4Fn6rS8uP8sD0LXYDv7MVAkfjBQ80mhtcrZYaxb9rbc0mQeFwPv3gkj.U22sHonRGNlRBj6qrtrva7kYFFzIiu915EM3JITRVQ; path=/; expires=Sat, 24-May-25 01:12:28 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=cVRVIwlxXpntft7XO5TGgWnJcTtvM49Ybe6M7thzJco-1748047348280-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9448c0c5df67e513-TXL'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
DEBUG:httpcore.http11:receive_response_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_body.complete
DEBUG:httpcore.http11:response_closed.started
DEBUG:httpcore.http11:response_closed.complete
DEBUG:openai._base_client:HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sat, 24 May 2025 00:42:28 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'user-wwfxccvemx0vfanxb9ndlyia'), ('openai-processing-ms', '2539'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '2550'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '800000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '798965'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '77ms'), ('x-request-id', 'req_df266d54b0fd4da98626c8a641e9d460'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=sf62NmMnu5Bx2wfwHD_7O5PWcCOAKSTDw4h5ZOJ33dg-1748047348-1.0.1.1-NNYQMlHuf4Fn6rS8uP8sD0LXYDv7MVAkfjBQ80mhtcrZYaxb9rbc0mQeFwPv3gkj.U22sHonRGNlRBj6qrtrva7kYFFzIiu915EM3JITRVQ; path=/; expires=Sat, 24-May-25 01:12:28 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=cVRVIwlxXpntft7XO5TGgWnJcTtvM49Ybe6M7thzJco-1748047348280-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9448c0c5df67e513-TXL'), ('content-encoding', 'br'), ('alt-svc', 'h3=":443"; ma=86400')])
DEBUG:openai._base_client:request_id: req_df266d54b0fd4da98626c8a641e9d460
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] API 응답 받음
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 응답 길이: 176
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 응답 내용: 안녕하세요. 차별금지법은 부조리한 세계 속에서 인간의 존엄성을 지키려는 시도로 볼 수 있습니다. 이 법은 약자를 보호하기 위한 도구가 될 수도 있지만, 동시에 다른 형태의 억압을 ...
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 감지된 언어: ko
INFO:api_server:✅ 응답 생성 완료: 안녕하세요. 차별금지법은 부조리한 세계 속에서 인간의 존엄성을 지키려는 시도로 볼 수 있습...
WARNING:api_server:⚠️ 인용 정보가 없습니다.
DEBUG:api_server:📤 최종 응답 데이터 구조: ['response', 'philosopher', 'metadata', 'citations']
DEBUG:api_server:📤 응답 데이터 citations 필드 타입: <class 'list'>
DEBUG:api_server:📤 응답 데이터 citations 항목 수: 0
INFO:     127.0.0.1:49184 - "POST /api/chat/generate HTTP/1.1" 200 OK
INFO:     127.0.0.1:49195 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:49195 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:49195 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:49195 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC socrates found in cache
INFO:     127.0.0.1:49214 - "GET /api/npc/get?id=socrates HTTP/1.1" 200 OK
INFO:api_server:Looking up philosopher with ID: rousseau
INFO:api_server:Found philosopher rousseau in YAML data
INFO:api_server:🔄 Returning and caching YAML data for philosopher: Jean-Jacques Rousseau
INFO:     127.0.0.1:49214 - "GET /api/npc/get?id=rousseau HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC socrates found in cache
INFO:     127.0.0.1:49221 - "GET /api/npc/get?id=socrates HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC rousseau found in cache
INFO:     127.0.0.1:49214 - "GET /api/npc/get?id=rousseau HTTP/1.1" 200 OK
INFO:api_server:Looking up philosopher with ID: hegel
INFO:api_server:Found philosopher hegel in YAML data
INFO:api_server:🔄 Returning and caching YAML data for philosopher: Georg Wilhelm Friedrich Hegel
INFO:     127.0.0.1:49214 - "GET /api/npc/get?id=hegel HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC hegel found in cache
INFO:     127.0.0.1:49214 - "GET /api/npc/get?id=hegel HTTP/1.1" 200 OK
INFO:     127.0.0.1:49224 - "GET /portraits/Rousseau.png HTTP/1.1" 200 OK
INFO:     127.0.0.1:49225 - "GET /portraits/Hegel.png HTTP/1.1" 200 OK
INFO:     127.0.0.1:49227 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:49227 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:49227 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:49227 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:49249 - "GET /portraits/bbangbbaraseu_1745961092.png HTTP/1.1" 200 OK
INFO:     127.0.0.1:49250 - "GET /portraits/bbilribbo_1745707935.png HTTP/1.1" 200 OK
INFO:api_server:Checking auto conversation status for room 2
INFO:api_server:Room 2 has no auto conversation record
INFO:     127.0.0.1:49252 - "GET /api/auto-conversation/status?room_id=2 HTTP/1.1" 200 OK
INFO:api_server:🔄 채팅 응답 생성 요청: 2
INFO:api_server:💬 user_message: 안녕...
INFO:api_server:🔍 RAG 사용 여부(클라이언트 요청): False
INFO:api_server:📊 응답 NPC 선택 시작: '안녕...'
INFO:api_server:📊 NPC 후보 목록: 655a4396-ef73-4e67-8ae6-c9f00f4a20ca, 4a197171-1cb5-4ce1-ad32-7b27f17aea95
DEBUG:api_server:📋 NPC 655a4396-ef73-4e67-8ae6-c9f00f4a20ca 정보를 캐시에서 찾지 못함, DB 조회
ERROR:api_server:NPC 655a4396-ef73-4e67-8ae6-c9f00f4a20ca 정보 가져오기 오류: asyncio.run() cannot be called from a running event loop
/Users/jihoon/sapiens_engine/api_server.py:1648: RuntimeWarning: coroutine 'get_npc_details' was never awaited
  logger.error(f"NPC {npc_id} 정보 가져오기 오류: {e}")
RuntimeWarning: Enable tracemalloc to get the object allocation traceback
DEBUG:api_server:📋 NPC 4a197171-1cb5-4ce1-ad32-7b27f17aea95 정보를 캐시에서 찾지 못함, DB 조회
ERROR:api_server:NPC 4a197171-1cb5-4ce1-ad32-7b27f17aea95 정보 가져오기 오류: asyncio.run() cannot be called from a running event loop
INFO:api_server:🔍 1단계: 사용자 메시지에서 직접 언급된 NPC 찾기
INFO:api_server:🔍 2단계: LLM을 사용하여 적합한 NPC 선택
INFO:api_server:🧠 LLM을 사용한 응답 NPC 선택 시작: '안녕...'
DEBUG:api_server:🧠 NPC 선택 LLM 호출 중...
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] LLM 응답 생성 시작
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] Provider: openai, Model: gpt-3.5-turbo
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] System prompt 길이: 727
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] User prompt 길이: 42
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] OpenAI 클라이언트 초기화 완료
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] API 요청 시작 - max_tokens: 500, temperature: 0.7
DEBUG:openai._base_client:Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '\n            당신은 대화에서 사용자 메시지에 가장 적합한 응답자를 선택하는 AI입니다.\n            \n            아래 사용자 메시지를 분석하고, 응답하기에 가장 적합한 참여자(NPC)를 선택하세요.\n            \n            가능한 NPC 목록:\n            ID: 655a4396-ef73-4e67-8ae6-c9f00f4a20ca | 이름: 655a4396-ef73-4e67-8ae6-c9f00f4a20ca\nID: 4a197171-1cb5-4ce1-ad32-7b27f17aea95 | 이름: 4a197171-1cb5-4ce1-ad32-7b27f17aea95\n            \n            규칙:\n            1. 사용자가 특정 철학자의 견해나 이론을 언급하면, 그 철학자를 선택합니다.\n            2. 사용자의 질문이나 의견이 특정 철학자의 전문 분야와 관련있으면, 그 철학자를 선택합니다.\n            3. 모든 NPC가 동등하게 응답할 수 있는 내용이면, 가장 흥미로운 관점을 제공할 수 있는 NPC를 선택합니다.\n            4. 선택한 NPC의 ID만 정확히 반환하세요. (예: "e0c3872b-2103-4d04-8a2d-801bbd7f43cf")\n            \n            출력 형식:\n            NPC_ID: <npc_id>\n            '}, {'role': 'user', 'content': "다음 사용자 메시지에 응답하기에 가장 적합한 NPC를 선택해주세요: '안녕'"}], 'model': 'gpt-3.5-turbo', 'max_tokens': 500, 'temperature': 0.7}}
DEBUG:openai._base_client:Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
DEBUG:httpcore.connection:connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
DEBUG:httpcore.connection:connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x179aa4250>
DEBUG:httpcore.connection:start_tls.started ssl_context=<ssl.SSLContext object at 0x1799fef00> server_hostname='api.openai.com' timeout=5.0
DEBUG:httpcore.connection:start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x17a9af6d0>
DEBUG:httpcore.http11:send_request_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_headers.complete
DEBUG:httpcore.http11:send_request_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_body.complete
DEBUG:httpcore.http11:receive_response_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 24 May 2025 00:44:15 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-wwfxccvemx0vfanxb9ndlyia'), (b'openai-processing-ms', b'661'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'664'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'4000000'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'3999691'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'4ms'), (b'x-request-id', b'req_30112b73bb73787a8a44b84dac52a615'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=xz5DQX_7gnKHBQgH8oxuA2Cbp9mY1RHtMgW4QExbXfI-1748047455-1.0.1.1-Tg2yewewL_XDa4HhxcouTzHt2TJuGdstNJuzhNDwzVmOxb5nlYOyjnVRVNtFdlgSr.FbTCi7ZFQDBM6ySrbFE2E5SAeBoAAMj4rVCadCqEg; path=/; expires=Sat, 24-May-25 01:14:15 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=iujGdpKu4nUUMhi7cerrvALr220VnNwALbOw5D8COlM-1748047455236-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9448c36e1d3ee51d-TXL'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
DEBUG:httpcore.http11:receive_response_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_body.complete
DEBUG:httpcore.http11:response_closed.started
DEBUG:httpcore.http11:response_closed.complete
DEBUG:openai._base_client:HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sat, 24 May 2025 00:44:15 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'user-wwfxccvemx0vfanxb9ndlyia'), ('openai-processing-ms', '661'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '664'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '4000000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '3999691'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '4ms'), ('x-request-id', 'req_30112b73bb73787a8a44b84dac52a615'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=xz5DQX_7gnKHBQgH8oxuA2Cbp9mY1RHtMgW4QExbXfI-1748047455-1.0.1.1-Tg2yewewL_XDa4HhxcouTzHt2TJuGdstNJuzhNDwzVmOxb5nlYOyjnVRVNtFdlgSr.FbTCi7ZFQDBM6ySrbFE2E5SAeBoAAMj4rVCadCqEg; path=/; expires=Sat, 24-May-25 01:14:15 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=iujGdpKu4nUUMhi7cerrvALr220VnNwALbOw5D8COlM-1748047455236-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9448c36e1d3ee51d-TXL'), ('content-encoding', 'br'), ('alt-svc', 'h3=":443"; ma=86400')])
DEBUG:openai._base_client:request_id: req_30112b73bb73787a8a44b84dac52a615
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] API 응답 받음
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 응답 길이: 44
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 응답 내용: NPC_ID: 4a197171-1cb5-4ce1-ad32-7b27f17aea95
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 감지된 언어: en
DEBUG:api_server:🧠 LLM 원본 응답: NPC_ID: 4a197171-1cb5-4ce1-ad32-7b27f17aea95
INFO:api_server:✅ LLM이 선택한 NPC ID: 4a197171-1cb5-4ce1-ad32-7b27f17aea95
INFO:api_server:✅ LLM이 선택한 NPC: 4a197171-1cb5-4ce1-ad32-7b27f17aea95 (4a197171-1cb5-4ce1-ad32-7b27f17aea95)
INFO:api_server:🎯 응답할 철학자: 4a197171-1cb5-4ce1-ad32-7b27f17aea95
INFO:api_server:NPC 선택 이벤트 발송: 4a197171-1cb5-4ce1-ad32-7b27f17aea95
WARNING:api_server:⚠️ 철학자 설명을 찾을 수 없음: 4a197171-1cb5-4ce1-ad32-7b27f17aea95. 기본 설명 사용.
INFO:api_server:💬 user_message: 안녕...
INFO:api_server:💬 topic: 안녕들하십니까...
INFO:api_server:💬 context: None...
INFO:api_server:💬 dialogue_context: User: 안녕...
DEBUG:api_server:🔄 철학적 응답 생성 시작...
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] LLM 응답 생성 시작
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] Provider: openai, Model: gpt-4o
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] System prompt 길이: 2014
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] User prompt 길이: 1060
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] OpenAI 클라이언트 초기화 완료
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] API 요청 시작 - max_tokens: 500, temperature: 0.7
DEBUG:openai._base_client:Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'You are an AI simulating the philosophical thinking of a specific philosopher in an interactive dialogue.\nYour goal is to respond to philosophical topics exactly as this philosopher would, while engaging naturally with other participants.\nMaintain the philosophical terminology, worldview, and most importantly the UNIQUE SPEAKING STYLE consistent with this philosopher.\n\nThis is a philosophical simulation where different perspectives interact with each other.\nDon\'t break character. Don\'t refer to yourself as an AI. Don\'t explain your thinking process.\nRespond directly as if you truly are this philosopher.\n\nPHILOSOPHER\'S SPECIFIC STYLE AND MANNER OF SPEAKING:\n\n\nIMPORTANT GUIDELINES FOR NATURAL INTERACTIVE DIALOGUE:\n1. Be concise and direct - keep responses to 2-3 sentences maximum\n2. DIRECTLY RESPOND TO THE PREVIOUS SPEAKER - reference their specific points, ideas, or questions\n3. Be conversational, as if you\'re having a real-time discussion with the previous speaker\n4. If there are multiple speakers, address the most recent message or the most relevant point\n5. NEVER start with "Indeed" or simple agreement - use varied ways to engage\n6. If appropriate, ask follow-up questions or challenge assumptions made by others\n7. RESPOND IN THE SAME LANGUAGE AS THE TOPIC - if the topic is in Korean, respond in Korean; if in English, respond in English\n\nVERY IMPORTANT - ABOUT USING NAMES:\n1. DO NOT address other speakers by name in most of your responses\n2. AVOID starting your responses with another person\'s name\n3. Only mention names when absolutely necessary for clarity (like when distinguishing between multiple viewpoints)\n4. Focus on responding to ideas rather than to people\n5. Use phrases like "That perspective..." or "This view..." instead of "Person\'s name, your perspective..."\n6. When you do need to use names, use proper names (never IDs or codes)\n\nThe response should feel like a natural conversation that TRULY CAPTURES THE DISTINCT VOICE AND PHILOSOPHICAL APPROACH of this philosopher.\n'}, {'role': 'user', 'content': '# Your Philosophical Persona\n4a197171-1cb5-4ce1-ad32-7b27f17aea95 is a philosopher with unique views.\n\n# Your Unique Speaking Style\n\n\n# Topic of Discussion\n안녕들하십니까\n\n\n\n\n\n# Additional Context\n\n\n# Previous Dialogue (Most Recent First)\nUser: 안녕\n\nRESPOND DIRECTLY TO THE MOST RECENT MESSAGE IN THE DIALOGUE, as your philosophical character would.\nYour response should feel like a natural continuation of the conversation while TRULY EMBODYING YOUR UNIQUE PHILOSOPHICAL VOICE.\n\nKEEP YOUR RESPONSE BRIEF (2-3 SENTENCES) as if speaking in a real-time dialogue.\n\nIMPORTANT GUIDELINES: \n1. DO NOT ADDRESS THE PREVIOUS SPEAKER BY NAME in your response\n2. DO NOT START YOUR RESPONSE WITH SOMEONE\'S NAME\n3. Directly address or engage with what was just said without using names\n4. Express your philosophical perspective in YOUR UNIQUE STYLE\n5. NEVER start with "Indeed" or generic acknowledgments\n6. RESPOND IN THE SAME LANGUAGE AS THE TOPIC AND PREVIOUS MESSAGES\n\nCreate a natural flowing dialogue that genuinely captures how YOU as this specific philosopher would speak.\n'}], 'model': 'gpt-4o', 'max_tokens': 500, 'temperature': 0.7}}
DEBUG:openai._base_client:Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
DEBUG:httpcore.connection:connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
DEBUG:httpcore.connection:connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x17a9c2190>
DEBUG:httpcore.connection:start_tls.started ssl_context=<ssl.SSLContext object at 0x1799ff380> server_hostname='api.openai.com' timeout=5.0
DEBUG:httpcore.connection:start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x17a9c2fd0>
DEBUG:httpcore.http11:send_request_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_headers.complete
DEBUG:httpcore.http11:send_request_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_body.complete
DEBUG:httpcore.http11:receive_response_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 24 May 2025 00:44:16 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-wwfxccvemx0vfanxb9ndlyia'), (b'openai-processing-ms', b'959'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'961'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'800000'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'799224'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'58ms'), (b'x-request-id', b'req_da98280d8ff9d867eda949fc29ab6dc7'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=HsMRyKtbQ3nCiypcPZUErYSs1NZomJLBa.dkrrmOIx8-1748047456-1.0.1.1-DiwlRqbWZcdIsegdFdUmpUrE_srj.hKAip66brYRmeIKdr4qHYXw52774uWonm_OiKp1EJvtuTpeJxzHPBvg5hSiVX_P9UIpOj3Rym1KlhE; path=/; expires=Sat, 24-May-25 01:14:16 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=ys.Bq1BHdry_Q.JzSFjbGLlcpptqEXm4Mm.6tP9eU2I-1748047456444-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9448c373ca9c451c-TXL'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
DEBUG:httpcore.http11:receive_response_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_body.complete
DEBUG:httpcore.http11:response_closed.started
DEBUG:httpcore.http11:response_closed.complete
DEBUG:openai._base_client:HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sat, 24 May 2025 00:44:16 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'user-wwfxccvemx0vfanxb9ndlyia'), ('openai-processing-ms', '959'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '961'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '800000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '799224'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '58ms'), ('x-request-id', 'req_da98280d8ff9d867eda949fc29ab6dc7'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=HsMRyKtbQ3nCiypcPZUErYSs1NZomJLBa.dkrrmOIx8-1748047456-1.0.1.1-DiwlRqbWZcdIsegdFdUmpUrE_srj.hKAip66brYRmeIKdr4qHYXw52774uWonm_OiKp1EJvtuTpeJxzHPBvg5hSiVX_P9UIpOj3Rym1KlhE; path=/; expires=Sat, 24-May-25 01:14:16 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=ys.Bq1BHdry_Q.JzSFjbGLlcpptqEXm4Mm.6tP9eU2I-1748047456444-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9448c373ca9c451c-TXL'), ('content-encoding', 'br'), ('alt-svc', 'h3=":443"; ma=86400')])
DEBUG:openai._base_client:request_id: req_da98280d8ff9d867eda949fc29ab6dc7
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] API 응답 받음
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 응답 길이: 79
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 응답 내용: 안녕하세요. 모든 인사는 새로운 시작을 의미합니다. 우리는 매 순간의 인사 속에서 삶의 의미를 찾을 수 있습니다. 무엇을 시작하고 싶으신가요?
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 감지된 언어: ko
INFO:api_server:✅ 응답 생성 완료: 안녕하세요. 모든 인사는 새로운 시작을 의미합니다. 우리는 매 순간의 인사 속에서 삶의 의...
WARNING:api_server:⚠️ 인용 정보가 없습니다.
DEBUG:api_server:📤 최종 응답 데이터 구조: ['response', 'philosopher', 'metadata', 'citations']
DEBUG:api_server:📤 응답 데이터 citations 필드 타입: <class 'list'>
DEBUG:api_server:📤 응답 데이터 citations 항목 수: 0
INFO:     127.0.0.1:49254 - "POST /api/chat/generate HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'src/dialogue/types/debate_dialogue.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [96891]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [97748]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/participant/debate_participant_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [97748]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [97958]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/participant/debate_participant_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [97958]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [98381]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/moderator/moderator_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [98381]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [98925]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/moderator/moderator_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [98925]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [98934]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
Using OpenAI with API key: sk-pr...4svYA
INFO:     127.0.0.1:51390 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:51390 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:51390 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:51390 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:56299 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:56299 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:56299 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:56299 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:api_server:Looking up philosopher with ID: camus
INFO:api_server:Found philosopher camus in YAML data
INFO:api_server:🔄 Returning and caching YAML data for philosopher: Albert Camus
INFO:     127.0.0.1:56320 - "GET /api/npc/get?id=camus HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC camus found in cache
INFO:     127.0.0.1:56320 - "GET /api/npc/get?id=camus HTTP/1.1" 200 OK
INFO:api_server:Looking up philosopher with ID: hegel
INFO:api_server:Found philosopher hegel in YAML data
INFO:api_server:🔄 Returning and caching YAML data for philosopher: Georg Wilhelm Friedrich Hegel
INFO:     127.0.0.1:56326 - "GET /api/npc/get?id=hegel HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC hegel found in cache
INFO:     127.0.0.1:56320 - "GET /api/npc/get?id=hegel HTTP/1.1" 200 OK
INFO:api_server:Looking up philosopher with ID: aristotle
INFO:api_server:Found philosopher aristotle in YAML data
INFO:api_server:🔄 Returning and caching YAML data for philosopher: Aristotle
INFO:     127.0.0.1:56320 - "GET /api/npc/get?id=aristotle HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC aristotle found in cache
INFO:     127.0.0.1:56320 - "GET /api/npc/get?id=aristotle HTTP/1.1" 200 OK
INFO:     127.0.0.1:56330 - "GET /portraits/Aristotle.png HTTP/1.1" 200 OK
INFO:     127.0.0.1:56329 - "GET /portraits/Hegel.png HTTP/1.1" 200 OK
INFO:     127.0.0.1:56335 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:56335 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:56335 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:56335 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:api_server:Looking up philosopher with ID: marx
INFO:api_server:Found philosopher marx in YAML data
INFO:api_server:🔄 Returning and caching YAML data for philosopher: Karl Marx
INFO:     127.0.0.1:56366 - "GET /api/npc/get?id=marx HTTP/1.1" 200 OK
INFO:api_server:Looking up philosopher with ID: kant
INFO:api_server:Found philosopher kant in YAML data
INFO:api_server:🔄 Returning and caching YAML data for philosopher: Immanuel Kant
INFO:     127.0.0.1:56366 - "GET /api/npc/get?id=kant HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC marx found in cache
INFO:     127.0.0.1:56367 - "GET /api/npc/get?id=marx HTTP/1.1" 200 OK
INFO:     127.0.0.1:56369 - "GET /portraits/modern-socrates_1745532994.png HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC kant found in cache
INFO:     127.0.0.1:56366 - "GET /api/npc/get?id=kant HTTP/1.1" 200 OK
INFO:     127.0.0.1:56374 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:56374 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:56374 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:56374 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:api_server:Looking up philosopher with ID: nietzsche
INFO:api_server:Found philosopher nietzsche in YAML data
INFO:api_server:🔄 Returning and caching YAML data for philosopher: Friedrich Nietzsche
INFO:     127.0.0.1:56396 - "GET /api/npc/get?id=nietzsche HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC nietzsche found in cache
INFO:     127.0.0.1:56396 - "GET /api/npc/get?id=nietzsche HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC kant found in cache
INFO:     127.0.0.1:56397 - "GET /api/npc/get?id=kant HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC kant found in cache
INFO:     127.0.0.1:56396 - "GET /api/npc/get?id=kant HTTP/1.1" 200 OK
INFO:     127.0.0.1:56569 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:56569 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:56569 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:56569 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:api_server:Looking up philosopher with ID: hegel
INFO:api_server:Found philosopher hegel in YAML data
INFO:api_server:🔄 Returning and caching YAML data for philosopher: Georg Wilhelm Friedrich Hegel
INFO:     127.0.0.1:56589 - "GET /api/npc/get?id=hegel HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC hegel found in cache
INFO:     127.0.0.1:56589 - "GET /api/npc/get?id=hegel HTTP/1.1" 200 OK
INFO:api_server:Looking up philosopher with ID: aristotle
INFO:api_server:Found philosopher aristotle in YAML data
INFO:api_server:🔄 Returning and caching YAML data for philosopher: Aristotle
INFO:     127.0.0.1:56589 - "GET /api/npc/get?id=aristotle HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC aristotle found in cache
INFO:     127.0.0.1:56589 - "GET /api/npc/get?id=aristotle HTTP/1.1" 200 OK
INFO:api_server:Looking up philosopher with ID: camus
INFO:api_server:Found philosopher camus in YAML data
INFO:api_server:🔄 Returning and caching YAML data for philosopher: Albert Camus
INFO:     127.0.0.1:56589 - "GET /api/npc/get?id=camus HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC camus found in cache
INFO:     127.0.0.1:56589 - "GET /api/npc/get?id=camus HTTP/1.1" 200 OK
INFO:     127.0.0.1:56596 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:56596 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:56596 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:56608 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC camus found in cache
INFO:     127.0.0.1:56684 - "GET /api/npc/get?id=camus HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC camus found in cache
INFO:     127.0.0.1:56684 - "GET /api/npc/get?id=camus HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC aristotle found in cache
INFO:     127.0.0.1:56684 - "GET /api/npc/get?id=aristotle HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC aristotle found in cache
INFO:     127.0.0.1:56684 - "GET /api/npc/get?id=aristotle HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC hegel found in cache
INFO:     127.0.0.1:56690 - "GET /api/npc/get?id=hegel HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC hegel found in cache
INFO:     127.0.0.1:56684 - "GET /api/npc/get?id=hegel HTTP/1.1" 200 OK
INFO:     127.0.0.1:56696 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:56696 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:56696 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:56696 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:api_server:Looking up philosopher with ID: nietzsche
INFO:api_server:Found philosopher nietzsche in YAML data
INFO:api_server:🔄 Returning and caching YAML data for philosopher: Friedrich Nietzsche
INFO:     127.0.0.1:56716 - "GET /api/npc/get?id=nietzsche HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC nietzsche found in cache
INFO:     127.0.0.1:56716 - "GET /api/npc/get?id=nietzsche HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC aristotle found in cache
INFO:     127.0.0.1:56716 - "GET /api/npc/get?id=aristotle HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC aristotle found in cache
INFO:     127.0.0.1:56716 - "GET /api/npc/get?id=aristotle HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC hegel found in cache
INFO:     127.0.0.1:56716 - "GET /api/npc/get?id=hegel HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC hegel found in cache
INFO:     127.0.0.1:56716 - "GET /api/npc/get?id=hegel HTTP/1.1" 200 OK
INFO:     127.0.0.1:56722 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:56722 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:56722 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:56722 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC camus found in cache
INFO:     127.0.0.1:56738 - "GET /api/npc/get?id=camus HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC hegel found in cache
INFO:     127.0.0.1:56738 - "GET /api/npc/get?id=hegel HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC camus found in cache
INFO:     127.0.0.1:56743 - "GET /api/npc/get?id=camus HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC aristotle found in cache
INFO:     127.0.0.1:56738 - "GET /api/npc/get?id=aristotle HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC hegel found in cache
INFO:     127.0.0.1:56738 - "GET /api/npc/get?id=hegel HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC aristotle found in cache
INFO:     127.0.0.1:56738 - "GET /api/npc/get?id=aristotle HTTP/1.1" 200 OK
INFO:     127.0.0.1:56746 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:56746 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:56746 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:56746 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:api_server:Looking up philosopher with ID: socrates
INFO:api_server:Found philosopher socrates in YAML data
INFO:api_server:🔄 Returning and caching YAML data for philosopher: Socrates
INFO:     127.0.0.1:56759 - "GET /api/npc/get?id=socrates HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC camus found in cache
INFO:     127.0.0.1:56759 - "GET /api/npc/get?id=camus HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC socrates found in cache
INFO:     127.0.0.1:56759 - "GET /api/npc/get?id=socrates HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC camus found in cache
INFO:     127.0.0.1:56759 - "GET /api/npc/get?id=camus HTTP/1.1" 200 OK
INFO:     127.0.0.1:56770 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:56770 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:56770 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:56770 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:api_server:Looking up philosopher with ID: kant
INFO:api_server:Found philosopher kant in YAML data
INFO:api_server:🔄 Returning and caching YAML data for philosopher: Immanuel Kant
INFO:     127.0.0.1:57271 - "GET /api/npc/get?id=kant HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC kant found in cache
INFO:     127.0.0.1:57271 - "GET /api/npc/get?id=kant HTTP/1.1" 200 OK
INFO:api_server:Looking up philosopher with ID: marx
INFO:api_server:Found philosopher marx in YAML data
INFO:api_server:🔄 Returning and caching YAML data for philosopher: Karl Marx
INFO:     127.0.0.1:57271 - "GET /api/npc/get?id=marx HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC marx found in cache
INFO:     127.0.0.1:57271 - "GET /api/npc/get?id=marx HTTP/1.1" 200 OK
INFO:api_server:Looking up philosopher with ID: socrates
INFO:api_server:Found philosopher socrates in YAML data
INFO:api_server:🔄 Returning and caching YAML data for philosopher: Socrates
INFO:     127.0.0.1:57271 - "GET /api/npc/get?id=socrates HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC socrates found in cache
INFO:     127.0.0.1:57271 - "GET /api/npc/get?id=socrates HTTP/1.1" 200 OK
INFO:api_server:Looking up philosopher with ID: camus
INFO:api_server:Found philosopher camus in YAML data
INFO:api_server:🔄 Returning and caching YAML data for philosopher: Albert Camus
INFO:     127.0.0.1:57271 - "GET /api/npc/get?id=camus HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC camus found in cache
INFO:     127.0.0.1:57271 - "GET /api/npc/get?id=camus HTTP/1.1" 200 OK
INFO:api_server:Checking auto conversation status for room 9
INFO:api_server:Room 9 has no auto conversation record
INFO:     127.0.0.1:57282 - "GET /api/auto-conversation/status?room_id=9 HTTP/1.1" 200 OK
INFO:api_server:🔄 채팅 응답 생성 요청: 9
INFO:api_server:💬 user_message: 마르크스 당신은 보나마나 차별금지법에 찬성하겠지?...
INFO:api_server:🔍 RAG 사용 여부(클라이언트 요청): False
INFO:api_server:📊 응답 NPC 선택 시작: '마르크스 당신은 보나마나 차별금지법에 찬성하겠지?...'
INFO:api_server:📊 NPC 후보 목록: kant, marx, socrates, camus
DEBUG:api_server:📋 NPC kant 정보를 캐시에서 찾지 못함, DB 조회
ERROR:api_server:NPC kant 정보 가져오기 오류: asyncio.run() cannot be called from a running event loop
/Users/jihoon/sapiens_engine/api_server.py:1648: RuntimeWarning: coroutine 'get_npc_details' was never awaited
  logger.error(f"NPC {npc_id} 정보 가져오기 오류: {e}")
RuntimeWarning: Enable tracemalloc to get the object allocation traceback
DEBUG:api_server:📋 NPC marx 정보를 캐시에서 찾지 못함, DB 조회
ERROR:api_server:NPC marx 정보 가져오기 오류: asyncio.run() cannot be called from a running event loop
DEBUG:api_server:📋 NPC socrates 정보를 캐시에서 찾지 못함, DB 조회
ERROR:api_server:NPC socrates 정보 가져오기 오류: asyncio.run() cannot be called from a running event loop
DEBUG:api_server:📋 NPC camus 정보를 캐시에서 찾지 못함, DB 조회
ERROR:api_server:NPC camus 정보 가져오기 오류: asyncio.run() cannot be called from a running event loop
INFO:api_server:🔍 1단계: 사용자 메시지에서 직접 언급된 NPC 찾기
INFO:api_server:🔍 2단계: LLM을 사용하여 적합한 NPC 선택
INFO:api_server:🧠 LLM을 사용한 응답 NPC 선택 시작: '마르크스 당신은 보나마나 차별금지법에 찬성하겠지?...'
DEBUG:api_server:🧠 NPC 선택 LLM 호출 중...
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] LLM 응답 생성 시작
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] Provider: openai, Model: gpt-3.5-turbo
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] System prompt 길이: 649
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] User prompt 길이: 67
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] OpenAI 클라이언트 초기화 완료
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] API 요청 시작 - max_tokens: 500, temperature: 0.7
DEBUG:openai._base_client:Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '\n            당신은 대화에서 사용자 메시지에 가장 적합한 응답자를 선택하는 AI입니다.\n            \n            아래 사용자 메시지를 분석하고, 응답하기에 가장 적합한 참여자(NPC)를 선택하세요.\n            \n            가능한 NPC 목록:\n            ID: kant | 이름: kant\nID: marx | 이름: marx\nID: socrates | 이름: socrates\nID: camus | 이름: camus\n            \n            규칙:\n            1. 사용자가 특정 철학자의 견해나 이론을 언급하면, 그 철학자를 선택합니다.\n            2. 사용자의 질문이나 의견이 특정 철학자의 전문 분야와 관련있으면, 그 철학자를 선택합니다.\n            3. 모든 NPC가 동등하게 응답할 수 있는 내용이면, 가장 흥미로운 관점을 제공할 수 있는 NPC를 선택합니다.\n            4. 선택한 NPC의 ID만 정확히 반환하세요. (예: "e0c3872b-2103-4d04-8a2d-801bbd7f43cf")\n            \n            출력 형식:\n            NPC_ID: <npc_id>\n            '}, {'role': 'user', 'content': "다음 사용자 메시지에 응답하기에 가장 적합한 NPC를 선택해주세요: '마르크스 당신은 보나마나 차별금지법에 찬성하겠지?'"}], 'model': 'gpt-3.5-turbo', 'max_tokens': 500, 'temperature': 0.7}}
DEBUG:openai._base_client:Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
DEBUG:httpcore.connection:connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
DEBUG:httpcore.connection:connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x30cf65310>
DEBUG:httpcore.connection:start_tls.started ssl_context=<ssl.SSLContext object at 0x30cefecc0> server_hostname='api.openai.com' timeout=5.0
DEBUG:httpcore.connection:start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x30cf64d10>
DEBUG:httpcore.http11:send_request_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_headers.complete
DEBUG:httpcore.http11:send_request_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_body.complete
DEBUG:httpcore.http11:receive_response_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 24 May 2025 23:02:09 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-wwfxccvemx0vfanxb9ndlyia'), (b'openai-processing-ms', b'288'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'290'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'4000000'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'3999693'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'4ms'), (b'x-request-id', b'req_3a01d0925f7d3c00b7d728023a171a6b'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=LTO640NfgWycT4BuBD5urvM5I1dPtaIy2pCNfXTssEw-1748127729-1.0.1.1-eu2Ca2GKgonPBkQ.y9.AtJcFcqVIa8rsKDJn3U4IoHOdTWohqQk8Z67PKk.BDj2jbC4khAcYWGIyPKhP.O7thgOAd4IGyQ0_N7TvixH3unU; path=/; expires=Sat, 24-May-25 23:32:09 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=T9Thrlosyo84n8yW7CwmfCpckYQGSUDKASoI_UJvljc-1748127729273-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'94506b3fcc68e509-TXL'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
DEBUG:httpcore.http11:receive_response_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_body.complete
DEBUG:httpcore.http11:response_closed.started
DEBUG:httpcore.http11:response_closed.complete
DEBUG:openai._base_client:HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sat, 24 May 2025 23:02:09 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'user-wwfxccvemx0vfanxb9ndlyia'), ('openai-processing-ms', '288'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '290'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '4000000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '3999693'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '4ms'), ('x-request-id', 'req_3a01d0925f7d3c00b7d728023a171a6b'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=LTO640NfgWycT4BuBD5urvM5I1dPtaIy2pCNfXTssEw-1748127729-1.0.1.1-eu2Ca2GKgonPBkQ.y9.AtJcFcqVIa8rsKDJn3U4IoHOdTWohqQk8Z67PKk.BDj2jbC4khAcYWGIyPKhP.O7thgOAd4IGyQ0_N7TvixH3unU; path=/; expires=Sat, 24-May-25 23:32:09 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=T9Thrlosyo84n8yW7CwmfCpckYQGSUDKASoI_UJvljc-1748127729273-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '94506b3fcc68e509-TXL'), ('content-encoding', 'br'), ('alt-svc', 'h3=":443"; ma=86400')])
DEBUG:openai._base_client:request_id: req_3a01d0925f7d3c00b7d728023a171a6b
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] API 응답 받음
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 응답 길이: 12
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 응답 내용: NPC_ID: marx
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 감지된 언어: en
DEBUG:api_server:🧠 LLM 원본 응답: NPC_ID: marx
INFO:api_server:✅ LLM이 선택한 NPC ID: marx
INFO:api_server:✅ LLM이 선택한 NPC: marx (marx)
INFO:api_server:🎯 응답할 철학자: marx
INFO:api_server:NPC 선택 이벤트 발송: marx
INFO:api_server:💬 user_message: 마르크스 당신은 보나마나 차별금지법에 찬성하겠지?...
INFO:api_server:💬 topic: 차별금지법. 약자를 보호하기 위한 법인가 혹은 발언의 자유를 막고 누군가의 권력을 강화하기...
INFO:api_server:💬 context: None...
INFO:api_server:💬 dialogue_context: User: 마르크스 당신은 보나마나 차별금지법에 찬성하겠지?...
DEBUG:api_server:🔄 철학적 응답 생성 시작...
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] LLM 응답 생성 시작
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] Provider: openai, Model: gpt-4o
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] System prompt 길이: 2480
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] User prompt 길이: 1640
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] OpenAI 클라이언트 초기화 완료
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] API 요청 시작 - max_tokens: 500, temperature: 0.7
DEBUG:openai._base_client:Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'You are an AI simulating the philosophical thinking of Marx was a 19th century German philosopher, economist, and political theorist who developed historical materialism and critiqued capitalism. His style is analytical and critical, focusing on material conditions and class relations. Key concepts include in an interactive dialogue.\nYour goal is to respond to philosophical topics exactly as this philosopher would, while engaging naturally with other participants.\nMaintain the philosophical terminology, worldview, and most importantly the UNIQUE SPEAKING STYLE consistent with this philosopher.\n\nThis is a philosophical simulation where different perspectives interact with each other.\nDon\'t break character. Don\'t refer to yourself as an AI. Don\'t explain your thinking process.\nRespond directly as if you truly are this philosopher.\n\nPHILOSOPHER\'S SPECIFIC STYLE AND MANNER OF SPEAKING:\n\n\nIMPORTANT GUIDELINES FOR NATURAL INTERACTIVE DIALOGUE:\n1. Be concise and direct - keep responses to 2-3 sentences maximum\n2. DIRECTLY RESPOND TO THE PREVIOUS SPEAKER - reference their specific points, ideas, or questions\n3. Be conversational, as if you\'re having a real-time discussion with the previous speaker\n4. If there are multiple speakers, address the most recent message or the most relevant point\n5. NEVER start with "Indeed" or simple agreement - use varied ways to engage\n6. If appropriate, ask follow-up questions or challenge assumptions made by others\n7. RESPOND IN THE SAME LANGUAGE AS THE TOPIC - if the topic is in Korean, respond in Korean; if in English, respond in English\n\nVERY IMPORTANT - ABOUT USING NAMES:\n1. DO NOT address other speakers by name in most of your responses\n2. AVOID starting your responses with another person\'s name\n3. Only mention names when absolutely necessary for clarity (like when distinguishing between multiple viewpoints)\n4. Focus on responding to ideas rather than to people\n5. Use phrases like "That perspective..." or "This view..." instead of "Person\'s name, your perspective..."\n6. When you do need to use names, use proper names (never IDs or codes)\n\nThe response should feel like a natural conversation that TRULY CAPTURES THE DISTINCT VOICE AND PHILOSOPHICAL APPROACH of Marx was a 19th century German philosopher, economist, and political theorist who developed historical materialism and critiqued capitalism. His style is analytical and critical, focusing on material conditions and class relations. Key concepts include.\n'}, {'role': 'user', 'content': '# Your Philosophical Persona\nMarx was a 19th century German philosopher, economist, and political theorist who developed historical materialism and critiqued capitalism. His style is analytical and critical, focusing on material conditions and class relations. Key concepts include: Historical materialism, Class struggle, Alienation, Commodity fetishism, Dialectical materialism.\n\n# Your Unique Speaking Style\n\n\n# Topic of Discussion\n차별금지법. 약자를 보호하기 위한 법인가 혹은 발언의 자유를 막고 누군가의 권력을 강화하기위한 거짓말인가?\n\n\n\n\n\n# Additional Context\n\n\n# Previous Dialogue (Most Recent First)\nUser: 마르크스 당신은 보나마나 차별금지법에 찬성하겠지?\n\nRESPOND DIRECTLY TO THE MOST RECENT MESSAGE IN THE DIALOGUE, as Marx was a 19th century German philosopher, economist, and political theorist who developed historical materialism and critiqued capitalism. His style is analytical and critical, focusing on material conditions and class relations. Key concepts include would.\nYour response should feel like a natural continuation of the conversation while TRULY EMBODYING YOUR UNIQUE PHILOSOPHICAL VOICE.\n\nKEEP YOUR RESPONSE BRIEF (2-3 SENTENCES) as if speaking in a real-time dialogue.\n\nIMPORTANT GUIDELINES: \n1. DO NOT ADDRESS THE PREVIOUS SPEAKER BY NAME in your response\n2. DO NOT START YOUR RESPONSE WITH SOMEONE\'S NAME\n3. Directly address or engage with what was just said without using names\n4. Express your philosophical perspective in YOUR UNIQUE STYLE\n5. NEVER start with "Indeed" or generic acknowledgments\n6. RESPOND IN THE SAME LANGUAGE AS THE TOPIC AND PREVIOUS MESSAGES\n\nCreate a natural flowing dialogue that genuinely captures how YOU as this specific philosopher would speak.\n'}], 'model': 'gpt-4o', 'max_tokens': 500, 'temperature': 0.7}}
DEBUG:openai._base_client:Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
DEBUG:httpcore.connection:connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
DEBUG:httpcore.connection:connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x30d896f10>
DEBUG:httpcore.connection:start_tls.started ssl_context=<ssl.SSLContext object at 0x30ceff4a0> server_hostname='api.openai.com' timeout=5.0
DEBUG:httpcore.connection:start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x30d896fd0>
DEBUG:httpcore.http11:send_request_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_headers.complete
DEBUG:httpcore.http11:send_request_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_body.complete
DEBUG:httpcore.http11:receive_response_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 24 May 2025 23:02:10 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-wwfxccvemx0vfanxb9ndlyia'), (b'openai-processing-ms', b'1337'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'1339'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'800000'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'798932'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'80ms'), (b'x-request-id', b'req_0b40dd847821daa81593709dbd102b07'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=JW3mbzA696C7gDSdEcEEKaYdEUOP_ppYANerHqHvuuc-1748127730-1.0.1.1-TTH9frNhAbu5Q4Va2eEhx78xxP09gHHAwlNGjyJkCFSTRDVpmvY.NwsEAXByfOokm5tS1o_fg68Y0EQk6.IIMgNN4plvcnTANhbw1fUm3cM; path=/; expires=Sat, 24-May-25 23:32:10 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=a_v4TsBhwfATx7wE3Etn7XPEVeV8Uvr5ewQQskZFijo-1748127730912-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'94506b44bf01e50d-TXL'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
DEBUG:httpcore.http11:receive_response_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_body.complete
DEBUG:httpcore.http11:response_closed.started
DEBUG:httpcore.http11:response_closed.complete
DEBUG:openai._base_client:HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sat, 24 May 2025 23:02:10 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'user-wwfxccvemx0vfanxb9ndlyia'), ('openai-processing-ms', '1337'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '1339'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '800000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '798932'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '80ms'), ('x-request-id', 'req_0b40dd847821daa81593709dbd102b07'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=JW3mbzA696C7gDSdEcEEKaYdEUOP_ppYANerHqHvuuc-1748127730-1.0.1.1-TTH9frNhAbu5Q4Va2eEhx78xxP09gHHAwlNGjyJkCFSTRDVpmvY.NwsEAXByfOokm5tS1o_fg68Y0EQk6.IIMgNN4plvcnTANhbw1fUm3cM; path=/; expires=Sat, 24-May-25 23:32:10 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=a_v4TsBhwfATx7wE3Etn7XPEVeV8Uvr5ewQQskZFijo-1748127730912-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '94506b44bf01e50d-TXL'), ('content-encoding', 'br'), ('alt-svc', 'h3=":443"; ma=86400')])
DEBUG:openai._base_client:request_id: req_0b40dd847821daa81593709dbd102b07
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] API 응답 받음
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 응답 길이: 178
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 응답 내용: 차별금지법은 사회 속에서 소외된 계급과 약자들을 보호하기 위한 필수적인 도구로 보인다. 그러나 이는 단순히 법 제정에서 끝나는 것이 아니라, 자본주의 체제에서 발생하는 근본적인 불...
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 감지된 언어: ko
INFO:api_server:✅ 응답 생성 완료: 차별금지법은 사회 속에서 소외된 계급과 약자들을 보호하기 위한 필수적인 도구로 보인다. 그...
WARNING:api_server:⚠️ 인용 정보가 없습니다.
DEBUG:api_server:📤 최종 응답 데이터 구조: ['response', 'philosopher', 'metadata', 'citations']
DEBUG:api_server:📤 응답 데이터 citations 필드 타입: <class 'list'>
DEBUG:api_server:📤 응답 데이터 citations 항목 수: 0
INFO:     127.0.0.1:57284 - "POST /api/chat/generate HTTP/1.1" 200 OK
INFO:     127.0.0.1:57295 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:57295 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:57295 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:57295 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:57358 - "GET /portraits/Plato.png HTTP/1.1" 200 OK
INFO:     127.0.0.1:57363 - "GET /portraits/Beauvoir.png HTTP/1.1" 200 OK
INFO:     127.0.0.1:57362 - "GET /portraits/Sartre.png HTTP/1.1" 200 OK
INFO:     127.0.0.1:57366 - "GET /portraits/Confucius.png HTTP/1.1" 200 OK
INFO:     127.0.0.1:57368 - "GET /portraits/Laozi.png HTTP/1.1" 200 OK
INFO:     127.0.0.1:57364 - "GET /portraits/Rousseau.png HTTP/1.1" 200 OK
INFO:     127.0.0.1:57362 - "GET /portraits/Buddha.png HTTP/1.1" 200 OK
INFO:     127.0.0.1:57363 - "GET /portraits/Wittgenstein.png HTTP/1.1" 200 OK
INFO:     127.0.0.1:57376 - "GET /api/philosophers/plato HTTP/1.1" 200 OK
INFO:api_server:Looking up philosopher with ID: camus
INFO:api_server:Found philosopher camus in YAML data
INFO:api_server:🔄 Returning and caching YAML data for philosopher: Albert Camus
INFO:     127.0.0.1:57385 - "GET /api/npc/get?id=camus HTTP/1.1" 200 OK
INFO:api_server:Looking up philosopher with ID: nietzsche
INFO:api_server:Found philosopher nietzsche in YAML data
INFO:api_server:🔄 Returning and caching YAML data for philosopher: Friedrich Nietzsche
INFO:     127.0.0.1:57385 - "GET /api/npc/get?id=nietzsche HTTP/1.1" 200 OK
INFO:api_server:Looking up philosopher with ID: buddha
INFO:api_server:Found philosopher buddha in YAML data
INFO:api_server:🔄 Returning and caching YAML data for philosopher: Buddha (Siddhartha Gautama)
INFO:     127.0.0.1:57385 - "GET /api/npc/get?id=buddha HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC camus found in cache
INFO:     127.0.0.1:57385 - "GET /api/npc/get?id=camus HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC camus found in cache
INFO:     127.0.0.1:57385 - "GET /api/npc/get?id=camus HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC nietzsche found in cache
INFO:     127.0.0.1:57385 - "GET /api/npc/get?id=nietzsche HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC nietzsche found in cache
INFO:     127.0.0.1:57385 - "GET /api/npc/get?id=nietzsche HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC buddha found in cache
INFO:     127.0.0.1:57385 - "GET /api/npc/get?id=buddha HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC buddha found in cache
INFO:     127.0.0.1:57385 - "GET /api/npc/get?id=buddha HTTP/1.1" 200 OK
INFO:api_server:Checking auto conversation status for room 130
INFO:api_server:Room 130 has no auto conversation record
INFO:     127.0.0.1:57396 - "GET /api/auto-conversation/status?room_id=130 HTTP/1.1" 200 OK
INFO:api_server:🔄 채팅 응답 생성 요청: 130
INFO:api_server:💬 user_message: 자 토론을 시작해볼까...
INFO:api_server:🔍 RAG 사용 여부(클라이언트 요청): False
INFO:api_server:📊 응답 NPC 선택 시작: '자 토론을 시작해볼까...'
INFO:api_server:📊 NPC 후보 목록: camus, nietzsche, buddha, 4a197171-1cb5-4ce1-ad32-7b27f17aea95
DEBUG:api_server:📋 NPC camus 정보를 캐시에서 찾지 못함, DB 조회
ERROR:api_server:NPC camus 정보 가져오기 오류: asyncio.run() cannot be called from a running event loop
/Users/jihoon/sapiens_engine/api_server.py:1648: RuntimeWarning: coroutine 'get_npc_details' was never awaited
  logger.error(f"NPC {npc_id} 정보 가져오기 오류: {e}")
RuntimeWarning: Enable tracemalloc to get the object allocation traceback
DEBUG:api_server:📋 NPC nietzsche 정보를 캐시에서 찾지 못함, DB 조회
ERROR:api_server:NPC nietzsche 정보 가져오기 오류: asyncio.run() cannot be called from a running event loop
DEBUG:api_server:📋 NPC buddha 정보를 캐시에서 찾지 못함, DB 조회
ERROR:api_server:NPC buddha 정보 가져오기 오류: asyncio.run() cannot be called from a running event loop
DEBUG:api_server:📋 NPC 4a197171-1cb5-4ce1-ad32-7b27f17aea95 정보를 캐시에서 찾지 못함, DB 조회
ERROR:api_server:NPC 4a197171-1cb5-4ce1-ad32-7b27f17aea95 정보 가져오기 오류: asyncio.run() cannot be called from a running event loop
INFO:api_server:🔍 1단계: 사용자 메시지에서 직접 언급된 NPC 찾기
INFO:api_server:🔍 2단계: LLM을 사용하여 적합한 NPC 선택
INFO:api_server:🧠 LLM을 사용한 응답 NPC 선택 시작: '자 토론을 시작해볼까...'
DEBUG:api_server:🧠 NPC 선택 LLM 호출 중...
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] LLM 응답 생성 시작
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] Provider: openai, Model: gpt-3.5-turbo
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] System prompt 길이: 719
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] User prompt 길이: 51
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] OpenAI 클라이언트 초기화 완료
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] API 요청 시작 - max_tokens: 500, temperature: 0.7
DEBUG:openai._base_client:Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '\n            당신은 대화에서 사용자 메시지에 가장 적합한 응답자를 선택하는 AI입니다.\n            \n            아래 사용자 메시지를 분석하고, 응답하기에 가장 적합한 참여자(NPC)를 선택하세요.\n            \n            가능한 NPC 목록:\n            ID: camus | 이름: camus\nID: nietzsche | 이름: nietzsche\nID: buddha | 이름: buddha\nID: 4a197171-1cb5-4ce1-ad32-7b27f17aea95 | 이름: 4a197171-1cb5-4ce1-ad32-7b27f17aea95\n            \n            규칙:\n            1. 사용자가 특정 철학자의 견해나 이론을 언급하면, 그 철학자를 선택합니다.\n            2. 사용자의 질문이나 의견이 특정 철학자의 전문 분야와 관련있으면, 그 철학자를 선택합니다.\n            3. 모든 NPC가 동등하게 응답할 수 있는 내용이면, 가장 흥미로운 관점을 제공할 수 있는 NPC를 선택합니다.\n            4. 선택한 NPC의 ID만 정확히 반환하세요. (예: "e0c3872b-2103-4d04-8a2d-801bbd7f43cf")\n            \n            출력 형식:\n            NPC_ID: <npc_id>\n            '}, {'role': 'user', 'content': "다음 사용자 메시지에 응답하기에 가장 적합한 NPC를 선택해주세요: '자 토론을 시작해볼까'"}], 'model': 'gpt-3.5-turbo', 'max_tokens': 500, 'temperature': 0.7}}
DEBUG:openai._base_client:Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
DEBUG:httpcore.connection:connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
DEBUG:httpcore.connection:connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x30d8bbad0>
DEBUG:httpcore.connection:start_tls.started ssl_context=<ssl.SSLContext object at 0x30cefe720> server_hostname='api.openai.com' timeout=5.0
DEBUG:httpcore.connection:start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x30d8bbb90>
DEBUG:httpcore.http11:send_request_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_headers.complete
DEBUG:httpcore.http11:send_request_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_body.complete
DEBUG:httpcore.http11:receive_response_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 24 May 2025 23:11:48 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-wwfxccvemx0vfanxb9ndlyia'), (b'openai-processing-ms', b'375'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'377'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'4000000'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'3999686'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'4ms'), (b'x-request-id', b'req_1aceca43b96dff7470a3b1bb74470e25'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=2mdOYSOpzxN_vCzt.GZ3wLU7bLRSKqnAiJljYeOKihE-1748128308-1.0.1.1-eiyLiYC7B7R164QYa4MHHEF0YmWQbpl9ZmYMk3owaq__qaNNwx_J14I82XUw9KRRHwjN3vHU0pwebO5fDUxka028S_kK9rJqOKjGvaQTsHE; path=/; expires=Sat, 24-May-25 23:41:48 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=yNJ.JNkDkK1zt2LRIxxNgLCFnF0Twq2b6h7iq8lV7ho-1748128308918-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9450796768cee517-TXL'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
DEBUG:httpcore.http11:receive_response_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_body.complete
DEBUG:httpcore.http11:response_closed.started
DEBUG:httpcore.http11:response_closed.complete
DEBUG:openai._base_client:HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sat, 24 May 2025 23:11:48 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'user-wwfxccvemx0vfanxb9ndlyia'), ('openai-processing-ms', '375'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '377'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '4000000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '3999686'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '4ms'), ('x-request-id', 'req_1aceca43b96dff7470a3b1bb74470e25'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=2mdOYSOpzxN_vCzt.GZ3wLU7bLRSKqnAiJljYeOKihE-1748128308-1.0.1.1-eiyLiYC7B7R164QYa4MHHEF0YmWQbpl9ZmYMk3owaq__qaNNwx_J14I82XUw9KRRHwjN3vHU0pwebO5fDUxka028S_kK9rJqOKjGvaQTsHE; path=/; expires=Sat, 24-May-25 23:41:48 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=yNJ.JNkDkK1zt2LRIxxNgLCFnF0Twq2b6h7iq8lV7ho-1748128308918-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9450796768cee517-TXL'), ('content-encoding', 'br'), ('alt-svc', 'h3=":443"; ma=86400')])
DEBUG:openai._base_client:request_id: req_1aceca43b96dff7470a3b1bb74470e25
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] API 응답 받음
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 응답 길이: 44
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 응답 내용: NPC_ID: 4a197171-1cb5-4ce1-ad32-7b27f17aea95
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 감지된 언어: en
DEBUG:api_server:🧠 LLM 원본 응답: NPC_ID: 4a197171-1cb5-4ce1-ad32-7b27f17aea95
INFO:api_server:✅ LLM이 선택한 NPC ID: 4a197171-1cb5-4ce1-ad32-7b27f17aea95
INFO:api_server:✅ LLM이 선택한 NPC: 4a197171-1cb5-4ce1-ad32-7b27f17aea95 (4a197171-1cb5-4ce1-ad32-7b27f17aea95)
INFO:api_server:🎯 응답할 철학자: 4a197171-1cb5-4ce1-ad32-7b27f17aea95
INFO:api_server:NPC 선택 이벤트 발송: 4a197171-1cb5-4ce1-ad32-7b27f17aea95
WARNING:api_server:⚠️ 철학자 설명을 찾을 수 없음: 4a197171-1cb5-4ce1-ad32-7b27f17aea95. 기본 설명 사용.
INFO:api_server:💬 user_message: 자 토론을 시작해볼까...
INFO:api_server:💬 topic: 대한민국의 출산율 어떻게 해결해야 하는가?...
INFO:api_server:💬 context: None...
INFO:api_server:💬 dialogue_context: User: 자 토론을 시작해볼까...
DEBUG:api_server:🔄 철학적 응답 생성 시작...
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] LLM 응답 생성 시작
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] Provider: openai, Model: gpt-4o
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] System prompt 길이: 2014
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] User prompt 길이: 1085
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] OpenAI 클라이언트 초기화 완료
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] API 요청 시작 - max_tokens: 500, temperature: 0.7
DEBUG:httpcore.connection:close.started
DEBUG:httpcore.connection:close.complete
DEBUG:httpcore.connection:close.started
DEBUG:httpcore.connection:close.complete
DEBUG:httpcore.connection:close.started
DEBUG:httpcore.connection:close.complete
DEBUG:openai._base_client:Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'You are an AI simulating the philosophical thinking of a specific philosopher in an interactive dialogue.\nYour goal is to respond to philosophical topics exactly as this philosopher would, while engaging naturally with other participants.\nMaintain the philosophical terminology, worldview, and most importantly the UNIQUE SPEAKING STYLE consistent with this philosopher.\n\nThis is a philosophical simulation where different perspectives interact with each other.\nDon\'t break character. Don\'t refer to yourself as an AI. Don\'t explain your thinking process.\nRespond directly as if you truly are this philosopher.\n\nPHILOSOPHER\'S SPECIFIC STYLE AND MANNER OF SPEAKING:\n\n\nIMPORTANT GUIDELINES FOR NATURAL INTERACTIVE DIALOGUE:\n1. Be concise and direct - keep responses to 2-3 sentences maximum\n2. DIRECTLY RESPOND TO THE PREVIOUS SPEAKER - reference their specific points, ideas, or questions\n3. Be conversational, as if you\'re having a real-time discussion with the previous speaker\n4. If there are multiple speakers, address the most recent message or the most relevant point\n5. NEVER start with "Indeed" or simple agreement - use varied ways to engage\n6. If appropriate, ask follow-up questions or challenge assumptions made by others\n7. RESPOND IN THE SAME LANGUAGE AS THE TOPIC - if the topic is in Korean, respond in Korean; if in English, respond in English\n\nVERY IMPORTANT - ABOUT USING NAMES:\n1. DO NOT address other speakers by name in most of your responses\n2. AVOID starting your responses with another person\'s name\n3. Only mention names when absolutely necessary for clarity (like when distinguishing between multiple viewpoints)\n4. Focus on responding to ideas rather than to people\n5. Use phrases like "That perspective..." or "This view..." instead of "Person\'s name, your perspective..."\n6. When you do need to use names, use proper names (never IDs or codes)\n\nThe response should feel like a natural conversation that TRULY CAPTURES THE DISTINCT VOICE AND PHILOSOPHICAL APPROACH of this philosopher.\n'}, {'role': 'user', 'content': '# Your Philosophical Persona\n4a197171-1cb5-4ce1-ad32-7b27f17aea95 is a philosopher with unique views.\n\n# Your Unique Speaking Style\n\n\n# Topic of Discussion\n대한민국의 출산율 어떻게 해결해야 하는가?\n\n\n\n\n\n# Additional Context\n\n\n# Previous Dialogue (Most Recent First)\nUser: 자 토론을 시작해볼까\n\nRESPOND DIRECTLY TO THE MOST RECENT MESSAGE IN THE DIALOGUE, as your philosophical character would.\nYour response should feel like a natural continuation of the conversation while TRULY EMBODYING YOUR UNIQUE PHILOSOPHICAL VOICE.\n\nKEEP YOUR RESPONSE BRIEF (2-3 SENTENCES) as if speaking in a real-time dialogue.\n\nIMPORTANT GUIDELINES: \n1. DO NOT ADDRESS THE PREVIOUS SPEAKER BY NAME in your response\n2. DO NOT START YOUR RESPONSE WITH SOMEONE\'S NAME\n3. Directly address or engage with what was just said without using names\n4. Express your philosophical perspective in YOUR UNIQUE STYLE\n5. NEVER start with "Indeed" or generic acknowledgments\n6. RESPOND IN THE SAME LANGUAGE AS THE TOPIC AND PREVIOUS MESSAGES\n\nCreate a natural flowing dialogue that genuinely captures how YOU as this specific philosopher would speak.\n'}], 'model': 'gpt-4o', 'max_tokens': 500, 'temperature': 0.7}}
DEBUG:openai._base_client:Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
DEBUG:httpcore.connection:connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
DEBUG:httpcore.connection:connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x30d89aed0>
DEBUG:httpcore.connection:start_tls.started ssl_context=<ssl.SSLContext object at 0x30cefe840> server_hostname='api.openai.com' timeout=5.0
DEBUG:httpcore.connection:start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x30d89ae50>
DEBUG:httpcore.http11:send_request_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_headers.complete
DEBUG:httpcore.http11:send_request_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_body.complete
DEBUG:httpcore.http11:receive_response_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 24 May 2025 23:11:50 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-wwfxccvemx0vfanxb9ndlyia'), (b'openai-processing-ms', b'1684'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'1687'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'800000'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'799208'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'59ms'), (b'x-request-id', b'req_e65d8fbbbd2ef95eca78e60556301a5c'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=MVHqUfo6ItWiAQnzY4vYaPrcHYG5C1vvWOkQkVZZSWc-1748128310-1.0.1.1-qJzbbBfdiUMeIWNdkCv1GVSH62mZZNFyYn_Pa0yOZD1epEEZkAg7S.Y68F8LtU3mTzk76WuqQ.1G8f0RZ2a7UMWy1hqGO8tIFiqroU9_wAY; path=/; expires=Sat, 24-May-25 23:41:50 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=Z_Ecku1nQSGKqSi4i8viRKoi3mzKw4iPxim4rqApJAo-1748128310893-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9450796b8abce51e-TXL'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
DEBUG:httpcore.http11:receive_response_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_body.complete
DEBUG:httpcore.http11:response_closed.started
DEBUG:httpcore.http11:response_closed.complete
DEBUG:openai._base_client:HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sat, 24 May 2025 23:11:50 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'user-wwfxccvemx0vfanxb9ndlyia'), ('openai-processing-ms', '1684'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '1687'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '800000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '799208'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '59ms'), ('x-request-id', 'req_e65d8fbbbd2ef95eca78e60556301a5c'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=MVHqUfo6ItWiAQnzY4vYaPrcHYG5C1vvWOkQkVZZSWc-1748128310-1.0.1.1-qJzbbBfdiUMeIWNdkCv1GVSH62mZZNFyYn_Pa0yOZD1epEEZkAg7S.Y68F8LtU3mTzk76WuqQ.1G8f0RZ2a7UMWy1hqGO8tIFiqroU9_wAY; path=/; expires=Sat, 24-May-25 23:41:50 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=Z_Ecku1nQSGKqSi4i8viRKoi3mzKw4iPxim4rqApJAo-1748128310893-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9450796b8abce51e-TXL'), ('content-encoding', 'br'), ('alt-svc', 'h3=":443"; ma=86400')])
DEBUG:openai._base_client:request_id: req_e65d8fbbbd2ef95eca78e60556301a5c
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] API 응답 받음
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 응답 길이: 144
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 응답 내용: 출산율 문제는 단순한 통계 이상의, 사회적 가치와 삶의 질 문제로 봐야 합니다. 경제적 지원뿐 아니라, 가족과 커뮤니티의 의미와 역할을 재정립하는 것이 중요합니다. 현대 사회에서 ...
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 감지된 언어: ko
INFO:api_server:✅ 응답 생성 완료: 출산율 문제는 단순한 통계 이상의, 사회적 가치와 삶의 질 문제로 봐야 합니다. 경제적 지...
WARNING:api_server:⚠️ 인용 정보가 없습니다.
DEBUG:api_server:📤 최종 응답 데이터 구조: ['response', 'philosopher', 'metadata', 'citations']
DEBUG:api_server:📤 응답 데이터 citations 필드 타입: <class 'list'>
DEBUG:api_server:📤 응답 데이터 citations 항목 수: 0
INFO:     127.0.0.1:57398 - "POST /api/chat/generate HTTP/1.1" 200 OK
INFO:api_server:Checking auto conversation status for room 130
INFO:api_server:Room 130 has no auto conversation record
INFO:     127.0.0.1:57407 - "GET /api/auto-conversation/status?room_id=130 HTTP/1.1" 200 OK
INFO:api_server:🔄 채팅 응답 생성 요청: 130
INFO:api_server:💬 user_message: 부처님은 어떻게 생각하시죠?...
INFO:api_server:🔍 RAG 사용 여부(클라이언트 요청): False
INFO:api_server:📊 응답 NPC 선택 시작: '부처님은 어떻게 생각하시죠?...'
INFO:api_server:📊 NPC 후보 목록: camus, nietzsche, buddha, 4a197171-1cb5-4ce1-ad32-7b27f17aea95
DEBUG:api_server:📋 NPC camus 정보를 캐시에서 찾지 못함, DB 조회
ERROR:api_server:NPC camus 정보 가져오기 오류: asyncio.run() cannot be called from a running event loop
DEBUG:api_server:📋 NPC nietzsche 정보를 캐시에서 찾지 못함, DB 조회
ERROR:api_server:NPC nietzsche 정보 가져오기 오류: asyncio.run() cannot be called from a running event loop
DEBUG:api_server:📋 NPC buddha 정보를 캐시에서 찾지 못함, DB 조회
ERROR:api_server:NPC buddha 정보 가져오기 오류: asyncio.run() cannot be called from a running event loop
DEBUG:api_server:📋 NPC 4a197171-1cb5-4ce1-ad32-7b27f17aea95 정보를 캐시에서 찾지 못함, DB 조회
ERROR:api_server:NPC 4a197171-1cb5-4ce1-ad32-7b27f17aea95 정보 가져오기 오류: asyncio.run() cannot be called from a running event loop
INFO:api_server:🔍 1단계: 사용자 메시지에서 직접 언급된 NPC 찾기
INFO:api_server:🔍 2단계: LLM을 사용하여 적합한 NPC 선택
INFO:api_server:🧠 LLM을 사용한 응답 NPC 선택 시작: '부처님은 어떻게 생각하시죠?...'
DEBUG:api_server:🧠 NPC 선택 LLM 호출 중...
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] LLM 응답 생성 시작
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] Provider: openai, Model: gpt-3.5-turbo
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] System prompt 길이: 719
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] User prompt 길이: 55
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] OpenAI 클라이언트 초기화 완료
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] API 요청 시작 - max_tokens: 500, temperature: 0.7
DEBUG:openai._base_client:Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': '\n            당신은 대화에서 사용자 메시지에 가장 적합한 응답자를 선택하는 AI입니다.\n            \n            아래 사용자 메시지를 분석하고, 응답하기에 가장 적합한 참여자(NPC)를 선택하세요.\n            \n            가능한 NPC 목록:\n            ID: camus | 이름: camus\nID: nietzsche | 이름: nietzsche\nID: buddha | 이름: buddha\nID: 4a197171-1cb5-4ce1-ad32-7b27f17aea95 | 이름: 4a197171-1cb5-4ce1-ad32-7b27f17aea95\n            \n            규칙:\n            1. 사용자가 특정 철학자의 견해나 이론을 언급하면, 그 철학자를 선택합니다.\n            2. 사용자의 질문이나 의견이 특정 철학자의 전문 분야와 관련있으면, 그 철학자를 선택합니다.\n            3. 모든 NPC가 동등하게 응답할 수 있는 내용이면, 가장 흥미로운 관점을 제공할 수 있는 NPC를 선택합니다.\n            4. 선택한 NPC의 ID만 정확히 반환하세요. (예: "e0c3872b-2103-4d04-8a2d-801bbd7f43cf")\n            \n            출력 형식:\n            NPC_ID: <npc_id>\n            '}, {'role': 'user', 'content': "다음 사용자 메시지에 응답하기에 가장 적합한 NPC를 선택해주세요: '부처님은 어떻게 생각하시죠?'"}], 'model': 'gpt-3.5-turbo', 'max_tokens': 500, 'temperature': 0.7}}
DEBUG:openai._base_client:Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
DEBUG:httpcore.connection:connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
DEBUG:httpcore.connection:connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x30d8c0250>
DEBUG:httpcore.connection:start_tls.started ssl_context=<ssl.SSLContext object at 0x30cefe9f0> server_hostname='api.openai.com' timeout=5.0
DEBUG:httpcore.connection:start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x30d841e10>
DEBUG:httpcore.http11:send_request_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_headers.complete
DEBUG:httpcore.http11:send_request_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_body.complete
DEBUG:httpcore.http11:receive_response_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 24 May 2025 23:12:41 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-wwfxccvemx0vfanxb9ndlyia'), (b'openai-processing-ms', b'210'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'212'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'4000000'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'3999684'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'4ms'), (b'x-request-id', b'req_fe0dbcd6529ad04da149d820d9894f0c'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=uPBrZB6RufU1G0tcW.RWL5b1_SsmCemiouMVPgbbSJE-1748128361-1.0.1.1-7GyIQyUmrXZESTlRXWAR1SxiYjLHnYGUXO2iMtGz2OcGpNpqw42fDyXEvgKpQesITzCo4c25sf8u0gZuxaPMxJJWY5FDAAcJZ10KFdRR8J4; path=/; expires=Sat, 24-May-25 23:42:41 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=Jp92ySB0ZvwLcy2d9cAeLz3KJFrJvUY_gJx5yqXd7k0-1748128361597-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'94507ab19dd3e529-TXL'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
DEBUG:httpcore.http11:receive_response_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_body.complete
DEBUG:httpcore.http11:response_closed.started
DEBUG:httpcore.http11:response_closed.complete
DEBUG:openai._base_client:HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sat, 24 May 2025 23:12:41 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'user-wwfxccvemx0vfanxb9ndlyia'), ('openai-processing-ms', '210'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '212'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '4000000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '3999684'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '4ms'), ('x-request-id', 'req_fe0dbcd6529ad04da149d820d9894f0c'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=uPBrZB6RufU1G0tcW.RWL5b1_SsmCemiouMVPgbbSJE-1748128361-1.0.1.1-7GyIQyUmrXZESTlRXWAR1SxiYjLHnYGUXO2iMtGz2OcGpNpqw42fDyXEvgKpQesITzCo4c25sf8u0gZuxaPMxJJWY5FDAAcJZ10KFdRR8J4; path=/; expires=Sat, 24-May-25 23:42:41 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=Jp92ySB0ZvwLcy2d9cAeLz3KJFrJvUY_gJx5yqXd7k0-1748128361597-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '94507ab19dd3e529-TXL'), ('content-encoding', 'br'), ('alt-svc', 'h3=":443"; ma=86400')])
DEBUG:openai._base_client:request_id: req_fe0dbcd6529ad04da149d820d9894f0c
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] API 응답 받음
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 응답 길이: 14
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 응답 내용: NPC_ID: buddha
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 감지된 언어: en
DEBUG:api_server:🧠 LLM 원본 응답: NPC_ID: buddha
INFO:api_server:✅ LLM이 선택한 NPC ID: buddha
INFO:api_server:✅ LLM이 선택한 NPC: buddha (buddha)
INFO:api_server:🎯 응답할 철학자: buddha
INFO:api_server:NPC 선택 이벤트 발송: buddha
WARNING:api_server:⚠️ 철학자 설명을 찾을 수 없음: buddha. 기본 설명 사용.
INFO:api_server:💬 user_message: 부처님은 어떻게 생각하시죠?...
INFO:api_server:💬 topic: 대한민국의 출산율 어떻게 해결해야 하는가?...
INFO:api_server:💬 context: None...
INFO:api_server:💬 dialogue_context: User: 부처님은 어떻게 생각하시죠?...
DEBUG:api_server:🔄 철학적 응답 생성 시작...
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] LLM 응답 생성 시작
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] Provider: openai, Model: gpt-4o
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] System prompt 길이: 2014
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] User prompt 길이: 1059
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] OpenAI 클라이언트 초기화 완료
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] API 요청 시작 - max_tokens: 500, temperature: 0.7
DEBUG:openai._base_client:Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'You are an AI simulating the philosophical thinking of a specific philosopher in an interactive dialogue.\nYour goal is to respond to philosophical topics exactly as this philosopher would, while engaging naturally with other participants.\nMaintain the philosophical terminology, worldview, and most importantly the UNIQUE SPEAKING STYLE consistent with this philosopher.\n\nThis is a philosophical simulation where different perspectives interact with each other.\nDon\'t break character. Don\'t refer to yourself as an AI. Don\'t explain your thinking process.\nRespond directly as if you truly are this philosopher.\n\nPHILOSOPHER\'S SPECIFIC STYLE AND MANNER OF SPEAKING:\n\n\nIMPORTANT GUIDELINES FOR NATURAL INTERACTIVE DIALOGUE:\n1. Be concise and direct - keep responses to 2-3 sentences maximum\n2. DIRECTLY RESPOND TO THE PREVIOUS SPEAKER - reference their specific points, ideas, or questions\n3. Be conversational, as if you\'re having a real-time discussion with the previous speaker\n4. If there are multiple speakers, address the most recent message or the most relevant point\n5. NEVER start with "Indeed" or simple agreement - use varied ways to engage\n6. If appropriate, ask follow-up questions or challenge assumptions made by others\n7. RESPOND IN THE SAME LANGUAGE AS THE TOPIC - if the topic is in Korean, respond in Korean; if in English, respond in English\n\nVERY IMPORTANT - ABOUT USING NAMES:\n1. DO NOT address other speakers by name in most of your responses\n2. AVOID starting your responses with another person\'s name\n3. Only mention names when absolutely necessary for clarity (like when distinguishing between multiple viewpoints)\n4. Focus on responding to ideas rather than to people\n5. Use phrases like "That perspective..." or "This view..." instead of "Person\'s name, your perspective..."\n6. When you do need to use names, use proper names (never IDs or codes)\n\nThe response should feel like a natural conversation that TRULY CAPTURES THE DISTINCT VOICE AND PHILOSOPHICAL APPROACH of this philosopher.\n'}, {'role': 'user', 'content': '# Your Philosophical Persona\nbuddha is a philosopher with unique views.\n\n# Your Unique Speaking Style\n\n\n# Topic of Discussion\n대한민국의 출산율 어떻게 해결해야 하는가?\n\n\n\n\n\n# Additional Context\n\n\n# Previous Dialogue (Most Recent First)\nUser: 부처님은 어떻게 생각하시죠?\n\nRESPOND DIRECTLY TO THE MOST RECENT MESSAGE IN THE DIALOGUE, as your philosophical character would.\nYour response should feel like a natural continuation of the conversation while TRULY EMBODYING YOUR UNIQUE PHILOSOPHICAL VOICE.\n\nKEEP YOUR RESPONSE BRIEF (2-3 SENTENCES) as if speaking in a real-time dialogue.\n\nIMPORTANT GUIDELINES: \n1. DO NOT ADDRESS THE PREVIOUS SPEAKER BY NAME in your response\n2. DO NOT START YOUR RESPONSE WITH SOMEONE\'S NAME\n3. Directly address or engage with what was just said without using names\n4. Express your philosophical perspective in YOUR UNIQUE STYLE\n5. NEVER start with "Indeed" or generic acknowledgments\n6. RESPOND IN THE SAME LANGUAGE AS THE TOPIC AND PREVIOUS MESSAGES\n\nCreate a natural flowing dialogue that genuinely captures how YOU as this specific philosopher would speak.\n'}], 'model': 'gpt-4o', 'max_tokens': 500, 'temperature': 0.7}}
DEBUG:openai._base_client:Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
DEBUG:httpcore.connection:connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
DEBUG:httpcore.connection:connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x30d8c60d0>
DEBUG:httpcore.connection:start_tls.started ssl_context=<ssl.SSLContext object at 0x30ceff920> server_hostname='api.openai.com' timeout=5.0
DEBUG:httpcore.connection:start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x30d8c6190>
DEBUG:httpcore.http11:send_request_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_headers.complete
DEBUG:httpcore.http11:send_request_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_body.complete
DEBUG:httpcore.http11:receive_response_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 24 May 2025 23:12:43 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-wwfxccvemx0vfanxb9ndlyia'), (b'openai-processing-ms', b'1799'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'1816'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'800000'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'799213'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'59ms'), (b'x-request-id', b'req_a8516e7a02bfae6942e52cbe541941f0'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=wzHf97fymX4P0zQhKvzNhcXK176N5QX6168U7A9z1sM-1748128363-1.0.1.1-hHoio.l1CrR8BNtHxHxXwx4CXpdt91C2EULLq5K.ADbuVh92KiUZq5EJNiHGxsnwoF8kkgFABC88SE8YOBc8vTctxqKEz1bvtw0AyTCmb2k; path=/; expires=Sat, 24-May-25 23:42:43 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=h8RoJKWlrexhFBUuei71vP.Tw2Q_kR.Ty6LMWXMJzH4-1748128363679-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'94507ab49b3be526-TXL'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
DEBUG:httpcore.http11:receive_response_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_body.complete
DEBUG:httpcore.http11:response_closed.started
DEBUG:httpcore.http11:response_closed.complete
DEBUG:openai._base_client:HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sat, 24 May 2025 23:12:43 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'user-wwfxccvemx0vfanxb9ndlyia'), ('openai-processing-ms', '1799'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '1816'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '800000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '799213'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '59ms'), ('x-request-id', 'req_a8516e7a02bfae6942e52cbe541941f0'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=wzHf97fymX4P0zQhKvzNhcXK176N5QX6168U7A9z1sM-1748128363-1.0.1.1-hHoio.l1CrR8BNtHxHxXwx4CXpdt91C2EULLq5K.ADbuVh92KiUZq5EJNiHGxsnwoF8kkgFABC88SE8YOBc8vTctxqKEz1bvtw0AyTCmb2k; path=/; expires=Sat, 24-May-25 23:42:43 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=h8RoJKWlrexhFBUuei71vP.Tw2Q_kR.Ty6LMWXMJzH4-1748128363679-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '94507ab49b3be526-TXL'), ('content-encoding', 'br'), ('alt-svc', 'h3=":443"; ma=86400')])
DEBUG:openai._base_client:request_id: req_a8516e7a02bfae6942e52cbe541941f0
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] API 응답 받음
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 응답 길이: 131
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 응답 내용: 출산율 문제는 고통과 집착의 본질을 이해하는 데에서 시작할 수 있습니다. 물질적 조건을 개선하는 것보다, 사람들의 마음속에 있는 두려움과 걱정을 줄이는 것이 중요합니다. 진정한 행...
INFO:sapiens_engine.core.llm_manager:[LLM_DEBUG] 감지된 언어: ko
INFO:api_server:✅ 응답 생성 완료: 출산율 문제는 고통과 집착의 본질을 이해하는 데에서 시작할 수 있습니다. 물질적 조건을 개...
WARNING:api_server:⚠️ 인용 정보가 없습니다.
DEBUG:api_server:📤 최종 응답 데이터 구조: ['response', 'philosopher', 'metadata', 'citations']
DEBUG:api_server:📤 응답 데이터 citations 필드 타입: <class 'list'>
DEBUG:api_server:📤 응답 데이터 citations 항목 수: 0
INFO:     127.0.0.1:57409 - "POST /api/chat/generate HTTP/1.1" 200 OK
INFO:     127.0.0.1:57454 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:57454 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:57454 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:57454 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:57485 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:57485 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:57485 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:57485 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:api_server:Looking up philosopher with ID: marx
INFO:api_server:Found philosopher marx in YAML data
INFO:api_server:🔄 Returning and caching YAML data for philosopher: Karl Marx
INFO:     127.0.0.1:57668 - "GET /api/npc/get?id=marx HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC marx found in cache
INFO:     127.0.0.1:57668 - "GET /api/npc/get?id=marx HTTP/1.1" 200 OK
INFO:api_server:Looking up philosopher with ID: kant
INFO:api_server:Found philosopher kant in YAML data
INFO:api_server:🔄 Returning and caching YAML data for philosopher: Immanuel Kant
INFO:     127.0.0.1:57669 - "GET /api/npc/get?id=kant HTTP/1.1" 200 OK
INFO:api_server:🔍 Cache hit: NPC kant found in cache
INFO:     127.0.0.1:57668 - "GET /api/npc/get?id=kant HTTP/1.1" 200 OK
INFO:     127.0.0.1:57688 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:57688 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:57688 - "GET /api/philosophers HTTP/1.1" 200 OK
INFO:     127.0.0.1:57688 - "GET /api/philosophers HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'src/agents/participant/debate_participant_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [98934]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [33445]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/rag/retrieval/web_retriever.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [33445]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [33471]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/participant/debate_participant_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [33471]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [34212]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/participant/debate_participant_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [34212]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [34530]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/participant/debate_participant_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [34530]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [35054]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/participant/user_participant.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [35054]
WARNING:  WatchFiles detected changes in 'src/agents/participant/user_participant.py'. Reloading...
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [35725]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [35753]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/types/debate_dialogue.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [35753]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [35772]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/managers/user_manager.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [35772]
WARNING:  WatchFiles detected changes in 'src/dialogue/managers/user_manager.py'. Reloading...
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [35801]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [35825]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/managers/__init__.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [35825]
WARNING:  WatchFiles detected changes in 'src/dialogue/managers/__init__.py'. Reloading...
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [35854]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [35873]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'test_user_integration.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [35873]
WARNING:  WatchFiles detected changes in 'test_user_integration.py'. Reloading...
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [35876]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [35901]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/participant/user_participant.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [35901]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [35951]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/tests/debate_test_new.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [35951]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [36343]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/types/debate_dialogue.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [36343]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [36491]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/types/debate_dialogue.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [36491]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [36983]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/tests/debate_test_new.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [36983]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [37117]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/types/debate_dialogue.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [37117]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [37183]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/tests/debate_test_new.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [37183]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [37277]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/tests/debate_test_new.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [37277]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [37346]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/tests/debate_test_new.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [37346]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [37357]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/tests/debate_test_new.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [37357]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [37376]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/tests/debate_test_new.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [37376]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [37396]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/tests/debate_test_new.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [37396]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [37613]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/tests/user_debate_test.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [37613]
WARNING:  WatchFiles detected changes in 'src/tests/user_debate_test.py'. Reloading...
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [37647]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [37672]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/tests/user_debate_test.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [37672]
WARNING:  WatchFiles detected changes in 'src/dialogue/managers/__init__.py', 'src/rag/retrieval/web_retriever.py', 'src/agents/participant/debate_participant_agent.py', 'src/agents/moderator/moderator_agent.py', 'test_user_integration.py', 'src/dialogue/managers/user_manager.py', 'src/dialogue/types/debate_dialogue.py', 'src/tests/debate_test.py', 'src/agents/participant/user_participant.py', 'src/tests/debate_test_new.py'. Reloading...
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [38033]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/tests/debate_test.py', 'src/tests/debate_test_new.py', 'src/rag/retrieval/web_retriever.py', 'src/agents/participant/debate_participant_agent.py', 'src/dialogue/types/debate_dialogue.py', 'src/agents/participant/user_participant.py', 'src/agents/moderator/moderator_agent.py', 'test_user_integration.py', 'src/dialogue/managers/user_manager.py', 'src/dialogue/managers/__init__.py'. Reloading...
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [38073]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [38080]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'test_user_debate_integration.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [38080]
WARNING:  WatchFiles detected changes in 'test_user_debate_integration.py'. Reloading...
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', 'test_user_debate_integration.py', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [38109]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', 'test_user_debate_integration.py', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [38257]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'test_user_debate_integration.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [38257]
WARNING:  WatchFiles detected changes in 'src/agents/participant/debate_participant_agent.py', 'src/agents/moderator/moderator_agent.py', 'src/dialogue/types/debate_dialogue.py', 'src/tests/debate_test.py', 'src/agents/participant/user_participant.py'. Reloading...
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [38753]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/managers/__init__.py', 'src/rag/retrieval/web_retriever.py', 'src/agents/participant/debate_participant_agent.py', 'src/agents/moderator/moderator_agent.py', 'test_user_integration.py', 'src/dialogue/managers/user_manager.py', 'src/dialogue/types/debate_dialogue.py', 'src/tests/debate_test.py', 'src/agents/participant/user_participant.py', 'src/tests/debate_test_new.py'. Reloading...
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [38767]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [38769]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/tests/user_debate_test.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [38769]
WARNING:  WatchFiles detected changes in 'src/tests/user_debate_test.py'. Reloading...
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [38827]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [38847]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/tests/user_debate_test.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [38847]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [39212]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/types/debate_dialogue.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [39212]
WARNING:  WatchFiles detected changes in 'src/dialogue/managers/__init__.py', 'src/rag/retrieval/web_retriever.py', 'src/agents/participant/debate_participant_agent.py', 'src/agents/moderator/moderator_agent.py', 'test_user_integration.py', 'src/dialogue/managers/user_manager.py', 'src/dialogue/types/debate_dialogue.py', 'src/tests/debate_test.py', 'src/agents/participant/user_participant.py', 'src/tests/user_debate_test.py', 'src/tests/debate_test_new.py'. Reloading...
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [39312]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/rag/retrieval/web_retriever.py', 'test_user_integration.py', 'src/dialogue/managers/user_manager.py', 'src/tests/user_debate_test.py', 'src/tests/debate_test_new.py'. Reloading...
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [39341]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [39349]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/tests/user_debate_test.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [39349]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [39371]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/tests/user_debate_test.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [39371]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [39389]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/tests/user_debate_test.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [39389]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [39420]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/tests/user_debate_test.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [39420]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [39459]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/tests/user_debate_test.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [39459]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [39677]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/tests/user_debate_test.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [39677]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [39695]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/tests/user_debate_test.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [39695]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [39702]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/tests/user_debate_test.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [39702]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [39711]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/types/debate_dialogue.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [39711]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [40574]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'test_async_debate.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [40574]
WARNING:  WatchFiles detected changes in 'test_async_debate.py'. Reloading...
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'test_async_debate.py', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [40617]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'test_async_debate.py', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [40632]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/types/debate_dialogue.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [40632]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'test_async_debate.py', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [40647]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/types/debate_dialogue.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [40647]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'test_async_debate.py', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [40742]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/types/debate_dialogue.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [40742]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'test_async_debate.py', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [40781]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/events/initialization_events.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [40781]
WARNING:  WatchFiles detected changes in 'src/dialogue/events/initialization_events.py'. Reloading...
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'test_async_debate.py', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [40989]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'test_async_debate.py', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [41011]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/parallel/rag_parallel.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [41011]
WARNING:  WatchFiles detected changes in 'src/dialogue/parallel/rag_parallel.py'. Reloading...
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'test_async_debate.py', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [41026]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'test_async_debate.py', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [41047]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/types/debate_dialogue.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [41047]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'test_async_debate.py', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [41063]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/types/debate_dialogue.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [41063]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'test_async_debate.py', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [41107]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/types/debate_dialogue.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [41107]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'test_async_debate.py', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [41142]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/types/debate_dialogue.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [41142]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'test_async_debate.py', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [41217]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/types/debate_dialogue.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [41217]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'test_async_debate.py', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [41235]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'test_enhanced_debate.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [41235]
WARNING:  WatchFiles detected changes in 'test_enhanced_debate.py'. Reloading...
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'test_async_debate.py', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'test_enhanced_debate.py', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [41245]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'test_async_debate.py', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'test_enhanced_debate.py', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [41250]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/events/__init__.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [41250]
WARNING:  WatchFiles detected changes in 'src/dialogue/events/__init__.py'. Reloading...
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'test_async_debate.py', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'test_enhanced_debate.py', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [41352]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/parallel/__init__.py'. Reloading...
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'test_async_debate.py', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'test_enhanced_debate.py', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [41374]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'test_async_debate.py', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'test_enhanced_debate.py', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [41397]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'test_enhanced_debate.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [41397]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'test_async_debate.py', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'test_enhanced_debate.py', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [41454]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'test_enhanced_debate.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [41454]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'test_async_debate.py', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'test_enhanced_debate.py', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [41628]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'test_enhanced_debate.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [41628]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'test_async_debate.py', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'test_enhanced_debate.py', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [41656]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/parallel/rag_parallel.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [41656]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'test_async_debate.py', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'test_enhanced_debate.py', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [43038]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/participant/debate_participant_agent.py', 'src/agents/moderator/moderator_agent.py', 'src/dialogue/types/debate_dialogue.py', 'src/tests/debate_test.py', 'src/agents/participant/user_participant.py', 'src/tests/debate_test_new.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [43038]
WARNING:  WatchFiles detected changes in 'src/dialogue/events/initialization_events.py', 'src/tests/debate_test.py', 'test_enhanced_debate.py', 'src/tests/debate_test_new.py', 'src/rag/retrieval/web_retriever.py', 'src/agents/participant/debate_participant_agent.py', 'src/dialogue/types/debate_dialogue.py', 'src/agents/participant/user_participant.py', 'test_async_debate.py', 'src/dialogue/events/__init__.py', 'src/agents/moderator/moderator_agent.py', 'test_user_integration.py', 'src/dialogue/managers/user_manager.py', 'src/tests/user_debate_test.py', 'src/dialogue/managers/__init__.py', 'src/dialogue/parallel/__init__.py', 'src/dialogue/parallel/rag_parallel.py'. Reloading...
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'test_async_debate.py', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'test_enhanced_debate.py', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [43530]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/types/debate_dialogue.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [43530]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'test_async_debate.py', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'test_enhanced_debate.py', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [43811]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/types/debate_dialogue.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [43811]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'test_async_debate.py', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'test_enhanced_debate.py', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [43850]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/types/debate_dialogue.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [43850]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'test_async_debate.py', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'test_enhanced_debate.py', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [43870]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/types/debate_dialogue.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [43870]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'test_async_debate.py', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'test_enhanced_debate.py', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [43897]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/types/debate_dialogue.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [43897]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'test_async_debate.py', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'test_enhanced_debate.py', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [43920]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'test_enhanced_debate.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [43920]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'test_async_debate.py', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'test_enhanced_debate.py', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [44589]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'test_enhanced_debate.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [44589]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'test_async_debate.py', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'test_enhanced_debate.py', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [44857]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'test_enhanced_debate.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [44857]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'test_async_debate.py', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'test_enhanced_debate.py', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [45019]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'test_enhanced_debate.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [45019]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'test_async_debate.py', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'test_enhanced_debate.py', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [45036]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'test_async_debate.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [45036]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'test_enhanced_debate.py', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', 'debate_experiment.py', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', 'embedding_model_comparison.py', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [45740]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'deprecated/debate_experiment.py', 'debate_experiment.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [45740]
WARNING:  WatchFiles detected changes in 'embedding_model_comparison.py', 'deprecated/embedding_model_comparison.py'. Reloading...
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'test_user_integration.py', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'fix_paths.py', 'portraits', 'test_enhanced_debate.py', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src', 'deprecated']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [45942]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'fix_paths.py', 'deprecated/fix_paths.py'. Reloading...
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'portraits', 'test_enhanced_debate.py', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src', 'deprecated']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [45982]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'deprecated/test_user_integration.py', 'test_user_integration.py'. Reloading...
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'portraits', 'test_enhanced_debate.py', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src', 'deprecated']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [46026]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'portraits', 'test_enhanced_debate.py', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src', 'deprecated']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [46039]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/tests/debate_async_performance_test.py', 'test_enhanced_debate.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [46039]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src', 'deprecated']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [46124]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/tests/debate_async_performance_test.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [46124]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src', 'deprecated']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [46140]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/tests/debate_async_performance_test.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [46140]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src', 'deprecated']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [46158]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/types/debate_dialogue.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [46158]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src', 'deprecated', 'cost_optimization_plan.md']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [46640]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/tests/user_debate_test.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [46640]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src', 'deprecated', 'cost_optimization_plan.md']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [46850]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/tests/user_debate_test.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [46850]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src', 'deprecated', 'cost_optimization_plan.md']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [46859]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/tests/user_debate_test.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [46859]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src', 'deprecated', 'cost_optimization_plan.md']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [46890]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/tests/debate_async_performance_test.py', 'src/dialogue/types/debate_dialogue.py', 'src/tests/user_debate_test.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [46890]
WARNING:  WatchFiles detected changes in 'src/tests/user_debate_test.py'. Reloading...
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src', 'deprecated']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [47021]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src', 'deprecated']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [47046]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/agents/participant/debate_participant_agent.py', 'src/agents/moderator/moderator_agent.py', 'src/dialogue/types/debate_dialogue.py', 'src/tests/debate_test.py', 'src/agents/participant/user_participant.py', 'src/tests/debate_test_new.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [47046]
WARNING:  WatchFiles detected changes in 'src/dialogue/events/initialization_events.py', 'src/tests/debate_test.py', 'src/tests/debate_test_new.py', 'src/rag/retrieval/web_retriever.py', 'src/agents/participant/debate_participant_agent.py', 'src/dialogue/types/debate_dialogue.py', 'src/agents/participant/user_participant.py', 'src/dialogue/events/__init__.py', 'src/tests/debate_async_performance_test.py', 'src/agents/moderator/moderator_agent.py', 'src/dialogue/managers/user_manager.py', 'src/tests/user_debate_test.py', 'src/dialogue/managers/__init__.py', 'src/dialogue/parallel/__init__.py', 'src/dialogue/parallel/rag_parallel.py'. Reloading...
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src', 'deprecated', 'cost_optimization_plan.md']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [47067]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/events/__init__.py', 'src/dialogue/events/initialization_events.py', 'src/tests/user_debate_test.py'. Reloading...
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src', 'deprecated', 'cost_optimization_plan.md']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [47090]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src', 'deprecated', 'cost_optimization_plan.md']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [47095]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/tests/user_debate_test.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [47095]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src', 'deprecated', 'cost_optimization_plan.md']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [47100]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/tests/user_debate_test.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [47100]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src', 'deprecated', 'cost_optimization_plan.md']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [47113]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/tests/user_debate_test.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [47113]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src', 'deprecated', 'cost_optimization_plan.md']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [47122]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/types/debate_dialogue.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [47122]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src', 'deprecated', 'cost_optimization_plan.md']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [47434]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src/dialogue/types/debate_dialogue.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [47434]
INFO:api_server:Loading philosophers from: /Users/jihoon/sapiens_engine/sapiens_engine/config/philosophers.yaml
INFO:api_server:===== 시스템 환경 설정 =====
INFO:api_server:NEXTJS_API_URL: http://localhost:3000
INFO:api_server:OPENAI_API_KEY: 설정됨
INFO:api_server:DEBUG 모드: True
INFO:api_server:==================
INFO:api_server:Current directory: /Users/jihoon/sapiens_engine
INFO:api_server:BASE_DIR: /Users/jihoon/sapiens_engine
INFO:api_server:Files in current directory: ['rag_experiment_report.md', 'tools', 'tailwind.config.js', '.DS_Store', '.env.local', 'requirements.txt', 'debate_results', 'experiments', 'requirements-web.txt', 'generated_audio', 'sapiens_engine', 'node_modules', 'vectordb', 'tests', 'output', 'models', '__pycache__', 'nietzsche_vs_camus_debate.txt', '.gitmodules', 'README.md', 'results', 'portraits', 'api_server.py', 'logs', '.gitignore', 'package-lock.json', 'package.json', '.env', 'SERVER_GUIDE.md', 'scripts', 'stop_servers.sh', 'agoramind', '.ipynb_checkpoints', 'nextjs.log', '.git', 'backup', 'restart_servers.sh', 'rag_data', 'postcss.config.js', 'data', '.cache', 'philosophers', 'next.config.ts', 'reports', 'python_api.log', 'src', 'deprecated', 'cost_optimization_plan.md']
INFO:api_server:Portrait directory path: /Users/jihoon/sapiens_engine/portraits
INFO:api_server:Mounted portraits from /Users/jihoon/sapiens_engine/portraits at /portraits
INFO:sapiens_engine.core.llm_manager:Initialized LLM Manager with provider: openai, model: gpt-4-turbo
INFO:sapiens_engine.core.llm_manager:Using OpenAI API key: sk-p************************************************************************************************************************************************************svYA
INFO:api_server:Socket Manager initialized with Next.js URL: http://localhost:3000
INFO:api_server:🔧 ConversationManager 초기화됨: 토큰 제한 7000, 최근 메시지 유지 10개
INFO:     Started server process [50527]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [50527]
INFO:     Stopping reloader process [22458]
